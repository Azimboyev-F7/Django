var ten4=function(e){"use strict";var o={a:{width:"default",unit:"px",grids:[12]},b:{width:1449,unit:"px",grids:[12]},c:{width:1279,unit:"px",grids:null},d:{width:1099,unit:"px",grids:null},e:{width:979,unit:"px",grids:[6]},f:{width:799,unit:"px",grids:null},g:{width:649,unit:"px",grids:[6]},h:{width:449,unit:"px",grids:null}};function p(e){this.slides=e.querySelectorAll(".slideshow__slide"),this.top_slide_i=0,this.slide_callbacks=[],this.slides[this.top_slide_i].classList.add("slideshow__slide--top"),this.addSlideProp(e);const t=document.getElementById(e.getAttribute("data-next"));var i,s;t&&t.addEventListener("click",(i=this,function(){e.classList.add("slideshow--swap"),i.slide()}));const n=document.getElementById(e.getAttribute("data-previous"));n&&n.addEventListener("click",(s=this,function(){e.classList.remove("slideshow--swap"),s.slide(!0)}))}function Q(t,i){var s={start:function(){return 0},center:function(e){return(i-e)/2},end:e};function e(e){return i-e}return{measure:function(e){return"number"==typeof t?i*Number(t):s[t](e)}}}function Z(e,t){var i="y"===e?"y":"x";return{scroll:i,cross:"y"===e?"x":"y",startEdge:"y"==i?"top":"rtl"===t?"right":"left",endEdge:"y"==i?"bottom":"rtl"===t?"left":"right",measureSize:function(e){var t=e.width,e=e.height;return"x"==i?t:e}}}function ee(e){return Math.abs(e)}function O(e){return e?e/ee(e):0}function j(e,t){return ee(e-t)}function d(e,t){for(var i=[],s=0;s<e.length;s+=t)i.push(e.slice(s,s+t));return i}function te(e){return Object.keys(e).map(Number)}function ie(e){return e[se(e)]}function se(e){return Math.max(0,e.length-1)}function ne(t,i){var s=ee(t-i);function e(e){return e<t}function n(e){return i<e}function o(e){return e<t||i<e}return{length:s,max:i,min:t,constrain:function(e){return o(e)?e<t?t:i:e},reachedAny:o,reachedMax:n,reachedMin:e,removeOffset:function(e){return s?e-s*Math.ceil((e-i)/s):e}}}function oe(e,t,i){var s=ne(0,e),n=s.min,o=s.constrain,r=e+1,a=l(t);function l(e){return i?ee((r+e)%r):o(e)}function c(){return a}function d(e){return a=l(e),u}var u={add:function(e){return d(a+e)},clone:function(){return oe(e,a,i)},get:c,set:d,min:n,max:e};return u}function le(e){var t="rtl"===e?-1:1;return{apply:function(e){return e*t}}}function re(){var n=[];var o={add:function(e,t,i,s){return void 0===s&&(s=!1),e.addEventListener(t,i,s),n.push(function(){return e.removeEventListener(t,i,s)}),o},removeAll:function(){return n=n.filter(function(e){return e()}),o}};return o}function ae(e){var t=e;function i(e){return t/=e,n}function s(e){return"number"==typeof e?e:e.get()}var n={add:function(e){return t+=s(e),n},divide:i,get:function(){return t},multiply:function(e){return t*=e,n},normalize:function(){return 0!==t&&i(t),n},set:function(e){return t=s(e),n},subtract:function(e){return t-=s(e),n}};return n}function ce(e,a,n,l,c,d,o,s,u,h,p,m,g,f,y){var r=e.cross,v=["INPUT","SELECT","TEXTAREA"],b=ae(0),t=re(),w=re(),k={mouse:300,touch:400},T={mouse:500,touch:600},_=c?5:16,E=1,S=20,L=0,A=0,C=!1,x=!1,P=!1,M=!1;function i(e){var t,i,s;(M="mousedown"===e.type)&&0!==e.button||(i=2<=j(l.get(),o.get()),t=M||!i,s=(s=e.target).nodeName||"",s=!(-1<v.indexOf(s)),i=i||M&&s,C=!0,d.pointerDown(e),b.set(l),l.set(o),h.useBaseMass().useSpeed(80),s=M?document:n,w.add(s,"touchmove",I).add(s,"touchend",N).add(s,"mousemove",I).add(s,"mouseup",N),L=d.readPoint(e),A=d.readPoint(e,r),g.emit("pointerDown"),t&&(P=!1),i&&e.preventDefault())}function I(e){if(!x&&!M){if(!e.cancelable)return N(e);var t=d.readPoint(e),i=d.readPoint(e,r),t=j(t,L),i=j(i,A);if(!(x=i<t)&&!P)return N(e)}i=d.pointerMove(e);!P&&i&&(P=!0),s.start(),l.add(a.apply(i)),e.preventDefault()}function N(e){var t=p.byDistance(0,!1).index!==m.get(),e=d.pointerUp(e)*(c?T:k)[M?"mouse":"touch"],i=(i=a.apply(e),r=t,n=m.clone().add(-1*O(i)),o=n.get()===m.min||n.get()===m.max,s=p.byDistance(i,!c).distance,c||ee(i)<S?s:!f&&o?.4*s:y&&r?.5*s:p.byIndex(n.get(),0).distance),s=(o=i,0===(r=e)||0===o||ee(r)<=ee(o)?0:(o=j(ee(r),ee(o)),ee(o/r))),n=.5<=j(l.get(),b.get()),o=t&&.75<s,r=ee(e)<S,t=o?10:_,e=o?E+2.5*s:E;n&&!M&&(P=!0),C=x=!1,w.removeAll(),h.useSpeed(r?9:t).useMass(e),u.distance(i,!c),M=!1,g.emit("pointerUp")}function q(e){P&&e.preventDefault()}return{addActivationEvents:function(){var e=n;t.add(e,"touchmove",function(){}).add(e,"touchend",function(){}).add(e,"touchstart",i).add(e,"mousedown",i).add(e,"touchcancel",N).add(e,"contextmenu",N).add(e,"click",q)},clickAllowed:function(){return!P},pointerDown:function(){return C},removeAllEvents:function(){t.removeAll(),w.removeAll()}}}function de(i,s){var n,o;function r(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function a(e){return e.timeStamp}function l(e,t){t=t||i.scroll;return(r(e)?e.touches[0]:e)["client"+("x"===t?"X":"Y")]}return{isTouchEvent:r,pointerDown:function(e){return o=n=e,s.measure(l(e))},pointerMove:function(e){var t=l(e)-l(o),i=170<a(e)-a(n);return o=e,i&&(n=e),s.measure(t)},pointerUp:function(e){if(!n||!o)return 0;var t=l(o)-l(n),i=a(e)-a(n),e=170<a(e)-a(o),t=t/i;return i&&!e&&.1<ee(t)?s.measure(t):0},readPoint:l}}function ue(t){return{measure:function(e){return 0===t?0:e/t*100},totalPercent:100}}function he(s,e,t){i=2,n=Math.pow(10,i);var i,n,o=function(e){return Math.round(e*n)/n},r=ae(0),a=ae(0),l=ae(0),c=0,d=e,u=t;function h(e){return d=e,m}function p(e){return u=e,m}var m={direction:function(){return c},seek:function(e){l.set(e).subtract(s),e=l.get();var t,i,e=(t=i=0)+(e-i)/(100-i)*(d-t);return c=O(l.get()),l.normalize().multiply(e).subtract(r),(i=l).divide(u),a.add(i),m},settle:function(e){var t=e.get()-s.get();return(t=!o(t))&&s.set(e),t},update:function(){r.add(a),s.add(r),a.multiply(0)},useBaseMass:function(){return p(t)},useBaseSpeed:function(){return h(e)},useMass:p,useSpeed:h};return m}function pe(s,n,o,r){var a=!1;return{constrain:function(e){var t,i;!a&&s.reachedAny(o.get())&&s.reachedAny(n.get())&&(i=s.reachedMin(n.get())?"min":"max",i=ee(s[i]-n.get()),t=o.get()-n.get(),i=Math.min(i/50,.85),o.subtract(t*i),!e&&ee(t)<10&&(o.set(s.constrain(o.get())),r.useSpeed(10).useMass(3)))},toggleActive:function(e){a=!e}}}function me(i,s,e,t,n){var o=ne(-s+i,e[0]),r=t.map(o.constrain);return{snapsContained:function(){if(s<=i)return[o.max];if("keepSnaps"===n)return r;var e=function(){var e=r[0],t=ie(r),e=r.lastIndexOf(e),t=r.indexOf(t)+1;return ne(e,t)}(),t=e.min,e=e.max;return r.slice(t,e)}()}}function ge(s,e,t,n,o){var t=ne(t.min+e.measure(.1),t.max+e.measure(.1)),r=t.reachedMin,a=t.reachedMax;return{loop:function(e){var t,i;(1===(t=e)?a(n.get()):-1===t&&r(n.get()))&&(i=s*(-1*e),o.forEach(function(e){return e.add(i)}))}}}function fe(e){var t=e.max,i=e.length;return{get:function(e){return(e-t)/-i}}}function ye(e,t,i,s,n,o){var r,a,l=e.startEdge,c=e.endEdge,e=n.map(function(e){return s[l]-e[l]}).map(i.measure).map(function(e){return-ee(e)}),n=(r=d(e,o).map(function(e){return e[0]}),a=d(n,o).map(function(e){return ie(e)[c]-e[0][l]}).map(i.measure).map(ee).map(t.measure),r.map(function(e,t){return e+a[t]}));return{snaps:e,snapsAligned:n}}function ve(r,a,n,e,l){var c=e.reachedAny,d=e.removeOffset,u=e.constrain;function o(e,t){return ee(e)<ee(t)?e:t}function h(e,t){var i=e,s=e+n,e=e-n;return r?t?ee(o(i,1===t?s:e))*t:o(o(i,s),e):i}return{byDistance:function(e,t){var i,s=l.get()+e;i=(r?d:u)(s);var n=(o={index:a.map(function(e){return e-i}).map(function(e){return h(e,0)}).map(function(e,t){return{diff:e,index:t}}).sort(function(e,t){return ee(e.diff)-ee(t.diff)})[0].index,distance:i}).index,o=o.distance,s=!r&&c(s);return!t||s?{index:n,distance:e}:{index:n,distance:e+h(a[n]-o,0)}},byIndex:function(e,t){return{index:e,distance:h(a[e]-l.get(),t)}},shortcut:h}}function be(s,n,o,i,r,a){function l(e){var t=e.distance,i=e.index!==n.get();t&&(s.start(),r.add(t)),i&&(o.set(n.get()),n.set(e.index),a.emit("select"))}return{distance:function(e,t){l(i.byDistance(e,t))},index:function(e,t){e=n.clone().set(e),l(i.byIndex(e.get(),t))}}}function we(n,e,o,r,t,i,s){var a=t.removeOffset,l=t.constrain,t=Math.min(Math.max(s,.01),.99),c=i?[0,e,-e]:[0],d=u(c,t);function u(e,t){var e=e||c,i=t||0,s=o.map(function(e){return e*i});return e.reduce(function(e,i){var t=r.map(function(e,t){return{start:e-o[t]+s[t]+i,end:e+n-s[t]+i,index:t}});return e.concat(t)},[])}return{check:function(e,t){var n=(i?a:l)(e);return(t||d).reduce(function(e,t){var i=t.index,s=t.start,t=t.end;return!(-1!==e.indexOf(i))&&(s<n&&n<t)?e.concat([i]):e},[])},findSlideBounds:u}}function ke(e,t,i){var s="x"===e.scroll?function(e){return"translate3d("+e+"%,0px,0px)"}:function(e){return"translate3d(0px,"+e+"%,0px)"},n=i.style,o=!1;return{clear:function(){n.transform=""},to:function(e){o||(n.transform=s(t.apply(e.get())))},toggleActive:function(e){o=!e}}}function P(j,$,e,t,i){var D,H,o,R,F,B,s,n=t.align,r=t.axis,a=t.direction,l=t.startIndex,c=t.inViewThreshold,d=t.loop,u=t.speed,V=t.dragFree,h=t.slidesToScroll,U=t.skipSnaps,p=t.containScroll,m=$.getBoundingClientRect(),g=e.map(function(e){return e.getBoundingClientRect()}),f=le(a),r=Z(r,a),a=ue(r.measureSize(m)),y=a.totalPercent,n=Q(n,y),v=(w=a,D=e,b=g,H=d,v=r.measureSize,o=r.startEdge,R=r.endEdge,{slideSizes:(F=b.map(v)).map(w.measure),slideSizesWithGaps:b.map(function(e,t,i){var s=t===se(i),n=window.getComputedStyle(ie(D)),n=parseFloat(n.getPropertyValue("margin-"+R));return s?F[t]+(H?n:0):i[t+1][o]-e[o]}).map(w.measure).map(ee)}),b=v.slideSizes,w=v.slideSizesWithGaps,v=ye(r,n,a,m,g,h),n=v.snaps,h=v.snapsAligned,v=-ie(n)+ie(w),k=me(y,v,n,h,p).snapsContained,p=!d&&""!==p?k:h,h=(k=v,h=d,_=(T=p)[0],T=ie(T),ne(h?_-k:T,_)),k=oe(se(p),l,d),T=k.clone(),_=te(e),l=(B=function(){d||O.scrollBounds.constrain(O.dragHandler.pointerDown()),O.scrollBody.seek(q).update();var e=O.scrollBody.settle(q);e&&!O.dragHandler.pointerDown()&&(O.animation.stop(),i.emit("settle")),e||i.emit("scroll"),d&&(O.scrollLooper.loop(O.scrollBody.direction()),O.slideLooper.loop()),O.translate.to(N),O.animation.proceed()},{proceed:E(!(s=0),z),start:E(!1,z),stop:E(!0,function(){window.cancelAnimationFrame(s),s=0})});function E(e,t){return function(){e===!!s&&t()}}function z(){s=window.requestAnimationFrame(B)}var S,L,A,C,W,K,x,P,M,I=p[k.get()],N=ae(I),q=ae(I),I=he(N,u,1),u=ve(d,p,v,h,q),X=be(l,k,T,u,q,i),b=we(y,v,b,n,h,d,c),O={containerRect:m,slideRects:g,animation:l,axis:r,direction:f,dragHandler:ce(r,f,j,q,V,de(r,a),N,l,X,I,u,k,i,d,U),eventStore:re(),pxToPercent:a,index:k,indexPrevious:T,limit:h,location:N,options:t,scrollBody:I,scrollBounds:pe(h,N,q,I),scrollLooper:ge(v,a,h,N,[N,q]),scrollProgress:fe(h),scrollSnaps:p,scrollTarget:u,scrollTo:X,slideLooper:(S=r,L=y,A=v,n=p,W=b,K=N,x=e,P=te(C=w),c=te(C).reverse(),m=n[0]-1,{canLoop:function(){return M.every(function(e){var t=e.index;return Y(P.filter(function(e){return e!==t}),L)<=0})},clear:function(){M.forEach(function(e){e=e.index;x[e].style[S.startEdge]=""})},loop:function(){M.forEach(function(e){var t=e.getTarget,i=e.location,s=e.index,t=t();t!==i&&(x[s].style[S.startEdge]=t+"%",e.location=t)})},loopPoints:M=G(J(c,m),"end").concat((c=L-n[0]-1,G(J(P,c),"start")))}),slidesInView:b,slideIndexes:_,target:q,translate:ke(r,f,$)};function Y(e,t){return e.reduce(function(e,t){return e-C[t]},t)}function J(e,i){return e.reduce(function(e,t){return 0<Y(e,i)?e.concat([t]):e},[])}function G(e,t){var n="start"===t,o=W.findSlideBounds([n?-A:A]);return e.map(function(t){var e=n?0:-A,i=n?A:0,s=o.filter(function(e){return e.index===t})[0][n?"end":"start"];return{point:s,getTarget:function(){return K.get()>s?e:i},index:t,location:-1}})}return O}function M(){var i={};function s(e){return i[e]||[]}var n={emit:function(t){return s(t).forEach(function(e){return e(t)}),n},off:function(e,t){return i[e]=s(e).filter(function(e){return e!==t}),n},on:function(e,t){return i[e]=s(e).concat([t]),n}};return n}p.prototype.slideTo=function(t){if(!(t<0||t>this.slides.length-1)){for(let e=0;e<this.slides.length;e+=1)this.slides[e].classList.remove("slideshow__slide--behind");for(let e=0;e<this.slide_callbacks.length;e+=1)this.slide_callbacks[e](t);this.slides[this.top_slide_i].classList.remove("slideshow__slide--top"),this.slides[this.top_slide_i].classList.add("slideshow__slide--behind"),this.top_slide_i=t,this.slides[this.top_slide_i].classList.add("slideshow__slide--top")}},p.prototype.slide=function(e){let t=this.top_slide_i+(e?-1:1);t<0?t=this.slides.length-1:t>this.slides.length-1&&(t=0),this.slideTo(t)},p.prototype.addSlideProp=function(e){const t=this.getTallestSlide().cloneNode(!0);t.classList.remove("slideshow__slide"),t.classList.add("slideshow__prop"),e.querySelector(".slideshow__prop")||e.appendChild(t)},p.prototype.getTallestSlide=function(){let t=this.slides[0];for(let e=1;e<this.slides.length;e+=1)this.slides[e].clientHeight>t.clientHeight&&(t=this.slides[e]);return t},p.prototype.addCallback=function(e){this.slide_callbacks.push(e)};var I={align:"center",axis:"x",containScroll:"",direction:"ltr",dragFree:!(p.prototype.currentSlide=function(){return this.slides[this.top_slide_i]}),draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,slidesToScroll:1,speed:10,startIndex:0};function x(s,e,t){var i,n,o,r,a,l,c,d,u,h=M(),p=(i=function(){var e;y&&(e=r.axis.measureSize(c.getBoundingClientRect()),w!==e&&_(),h.emit("resize"))},n=500,o=0,function(){window.clearTimeout(o),o=window.setTimeout(i,n)||0}),m=_,g=h.on,f=h.off,y=!1,v=Object.assign({},I,x.globalOptions),b=Object.assign({},v),w=0;function k(){var e,t="container"in s&&s.container,i="slides"in s&&s.slides;c="root"in s?s.root:s,d=t||c.children[0],u=i||[].slice.call(d.children),e=getComputedStyle(c,":before").content,a={get:function(){try{return JSON.parse(e.slice(1,-1).replace(/\\/g,""))}catch(e){}return{}}}}function T(e,t){if(k(),v=Object.assign({},v,e),b=Object.assign({},v,a.get()),l=Object.assign([],t),(r=P(c,d,u,b,h)).eventStore.add(window,"resize",p),r.translate.to(r.location),w=r.axis.measureSize(c.getBoundingClientRect()),l.forEach(function(e){return e.init(C)}),b.loop){if(!r.slideLooper.canLoop())return E(),T({loop:!1},t);r.slideLooper.loop()}b.draggable&&d.offsetParent&&u.length&&r.dragHandler.addActivationEvents(),y||(setTimeout(function(){return h.emit("init")},0),y=!0)}function _(e,t){var i;y&&(i=A(),i=Object.assign({startIndex:i},e),E(),T(i,t||l),h.emit("reInit"))}function E(){r.dragHandler.removeAllEvents(),r.animation.stop(),r.eventStore.removeAll(),r.translate.clear(),r.slideLooper.clear(),l.forEach(function(e){return e.destroy()})}function S(e){var e=r[e?"target":"location"].get(),t=b.loop?"removeOffset":"constrain";return r.slidesInView.check(r.limit[t](e))}function L(e,t,i){r.scrollBody.useBaseMass().useSpeed(t?100:b.speed),y&&r.scrollTo.index(e,i||0)}function A(){return r.index.get()}var C={canScrollNext:function(){return r.index.clone().add(1).get()!==A()},canScrollPrev:function(){return r.index.clone().add(-1).get()!==A()},clickAllowed:function(){return r.dragHandler.clickAllowed()},containerNode:function(){return d},internalEngine:function(){return r},destroy:function(){y&&(E(),y=!1,h.emit("destroy"))},off:f,on:g,previousScrollSnap:function(){return r.indexPrevious.get()},reInit:m,rootNode:function(){return c},scrollNext:function(e){L(r.index.clone().add(1).get(),!0===e,-1)},scrollPrev:function(e){L(r.index.clone().add(-1).get(),!0===e,1)},scrollProgress:function(){return r.scrollProgress.get(r.location.get())},scrollSnapList:function(){return r.scrollSnaps.map(r.scrollProgress.get)},scrollTo:L,selectedScrollSnap:A,slideNodes:function(){return u},slidesInView:S,slidesNotInView:function(e){var t=S(e);return r.slideIndexes.filter(function(e){return-1===t.indexOf(e)})}};return T(e,t),C}var _={delay:4e3,playOnInit:!(x.globalOptions=void 0),stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1};function g(e,i){var s,e=Object.assign({},_,g.globalOptions,e),n=e.playOnInit,o=e.stopOnInteraction,r=e.stopOnMouseEnter,t=e.stopOnLastSnap,a=e.delay,l=o?d:h,c=0;function d(){s.off("pointerDown",l),o||s.off("pointerUp",p),h(),c=0}function u(){h(),c=window.setTimeout(m,a)}function h(){c&&window.clearTimeout(c)}function p(){c&&(h(),u())}function m(){var e=s.internalEngine().index;if(t&&e.get()===e.max)return d();s.canScrollNext()?s.scrollNext():s.scrollTo(0),u()}return{name:"Autoplay",options:e,init:function(e){var e=(s=e).internalEngine().eventStore,t=s.rootNode(),t=i&&i(t)||t;s.on("pointerDown",l),o||s.on("pointerUp",p),r&&(e.add(t,"mouseenter",l),o||e.add(t,"mouseleave",p)),e.add(document,"visibilitychange",function(){if("hidden"===document.visibilityState)return h();p()}),e.add(window,"pagehide",function(e){e.persisted&&h()}),n&&u()},destroy:d,play:u,stop:h,reset:p}}function E(s){const n=(s=s||{}).lazyClass||"lazy",o=s.lazyBackgroundClass||"lazy-bg",i="idleLoadTimeout"in s?s.idleLoadTimeout:200,r=s.observeChanges||!1,a=s.events||{},t=s.noPolyfill||!1,l=window,c="requestIdleCallback",d="IntersectionObserver",u=d in l&&d+"Entry"in l,h=/baidu|(?:google|bing|yandex|duckduck)bot/i.test(navigator.userAgent),p=["srcset","src","poster"],m=[],g=(e,t)=>m.slice.call((t||document).querySelectorAll(e||`img.${n},video.${n},iframe.${n},.`+o)),f=e=>{var t=e.parentNode;"PICTURE"==t.nodeName&&b(g("source",t),v),"VIDEO"==e.nodeName&&b(g("source",e),v),v(e);const i=e.classList;i.contains(o)&&(i.remove(o),i.add(s.lazyBackgroundLoaded||"lazy-bg-loaded"))},y=e=>{for(var t in a)e.addEventListener(t,a[t].listener||a[t],a[t].options||void 0)},v=e=>{for(var t in p)if(p[t]in e.dataset){e.setAttribute(p[t],e.dataset[p[t]]);const i=e.parentNode;"SOURCE"===e.nodeName&&i.autoplay&&(i.load(),/Trident/.test(navigator.userAgent)&&i.play(),i.classList.remove(n)),e.classList.remove(n)}},b=(t,i)=>{for(let e=0;e<t.length;e++)l[d]&&i instanceof l[d]?i.observe(t[e]):i(t[e])};var w;let k=g();b(k,y),u&&!h?(w=new l[d](e=>{b(e,e=>{if(e.isIntersecting||e.intersectionRatio){const t=e.target;c in l&&i?l[c](()=>{f(t)},{timeout:i}):f(t),w.unobserve(t),(k=k.filter(e=>e!=t)).length||r||w.disconnect()}})},{rootMargin:`${"threshold"in s?s.threshold:200}px 0%`}),b(k,w),r&&b(g(s.observeRootSelector||"body"),e=>{new MutationObserver(()=>{b(g(),e=>{k.indexOf(e)<0&&(k.push(e),y(e),u&&!h?w.observe(e):(t||h)&&b(k,f))})}).observe(e,s.mutationObserverOptions||{childList:!0,subtree:!0})})):(t||h)&&b(k,f)}g.globalOptions=void 0;function t(t){var n=!0,i=!1,s=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function e(e){n=!1}function l(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(n=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",function(e){e.metaKey||e.altKey||e.ctrlKey||(r(t.activeElement)&&a(t.activeElement),n=!0)},!0),document.addEventListener("mousedown",e,!0),document.addEventListener("pointerdown",e,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&(i&&(n=!0),l())},!0),l(),t.addEventListener("focus",function(e){var t,i,s;r(e.target)&&(n||(t=e.target,i=t.type,"INPUT"===(s=t.tagName)&&o[i]&&!t.readOnly||("TEXTAREA"===s&&!t.readOnly||!!t.isContentEditable)))&&a(e.target)},!0),t.addEventListener("blur",function(e){r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(i=!0,window.clearTimeout(s),s=window.setTimeout(function(){i=!1},100),(e=e.target).hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added")))},!0),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host?t.host.setAttribute("data-js-focus-visible",""):t.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){window.applyFocusVisiblePolyfill=t;try{i=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(i=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(i)}"undefined"!=typeof document&&t(document);const S=1.5,L=t=>{const e=t.slideNodes(),i=e.map(e=>e.querySelector(".slider__slide-parallax"));return()=>{const e=(e=>{const t=e.internalEngine(),o=e.scrollProgress();return e.scrollSnapList().map((i,s)=>{let n=i-o;return t.options.loop&&t.slideLooper.loopPoints.forEach(e=>{var t=e.getTarget();s===e.index&&0!==t&&(-1===(e=Math.sign(t))&&(n=i-(1+o)),1===e&&(n=i+(1-o)))}),n*(-1/S)*100})})(t);e.forEach((e,t)=>{i[t].style.transform=`translateX(${e}%)`})}};function c(){return window.innerHeight||document.documentElement.clientHeight}function u(){return window.innerWidth||document.documentElement.clientWidth}function m(e){var t=u();return e<.25*t?"left":.75*t<e?"right":"centre"}var i={exports:{}},A=i.exports="object"==typeof navigator?function(){function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(Object(i),!0).forEach(function(e){H(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var B={addCSS:!0,thumbWidth:15,watch:!0};function V(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var t=function(e){return null!=e?e.constructor:null},U=function(e,t){return!!(e&&t&&e instanceof t)},z=function(e){return null==e},W=function(e){return t(e)===Object},K=function(e){return t(e)===String},X=function(e){return Array.isArray(e)},Y=function(e){return U(e,NodeList)},J=K,G=X,Q=Y,Z=function(e){return U(e,Element)},ee=function(e){return U(e,Event)},te=function(e){return z(e)||(K(e)||X(e)||Y(e))&&!e.length||W(e)&&!Object.keys(e).length};function ie(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var se=function(){function c(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),Z(e)?this.element=e:J(e)&&(this.element=document.querySelector(e)),Z(this.element)&&te(this.element.rangeTouch)&&(this.config=F({},B,{},t),this.init())}return function(e,t,i){t&&s(e.prototype,t),i&&s(e,i)}(c,[{key:"init",value:function(){c.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){c.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[i](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!c.enabled||!ee(e))return null;var t,i=e.target,s=e.changedTouches[0],n=parseFloat(i.getAttribute("min"))||0,o=parseFloat(i.getAttribute("max"))||100,r=parseFloat(i.getAttribute("step"))||1,a=i.getBoundingClientRect(),l=100/a.width*(this.config.thumbWidth/2)/100;return 0>(t=100/a.width*(s.clientX-a.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*l:50<t&&(t+=2*(t-50)*l),n+ie(t/100*(o-n),r)}},{key:"set",value:function(e){c.enabled&&ee(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;if(te(t)||J(t)?e=Array.from(document.querySelectorAll(J(t)?t:'input[type="range"]')):Z(t)?e=[t]:Q(t)?e=Array.from(t):G(t)&&(e=t.filter(Z)),te(e))return null;var s=F({},B,{},i);if(J(t)&&s.watch){var n=new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){Z(e)&&V(e,t)&&new c(e,s)})})});n.observe(document.body,{childList:!0,subtree:!0})}return e.map(function(e){return new c(e,i)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),c}();const ne=e=>null!=e?e.constructor:null,i=(e,t)=>Boolean(e&&t&&e instanceof t),oe=e=>null==e,re=e=>ne(e)===Object,ae=e=>ne(e)===String,le=e=>ne(e)===Function,ce=e=>Array.isArray(e),de=e=>i(e,NodeList),ue=e=>oe(e)||(ae(e)||ce(e)||de(e))&&!e.length||re(e)&&!Object.keys(e).length;var a=oe,n=re,b=e=>ne(e)===Number&&!Number.isNaN(e),l=ae,w=e=>ne(e)===Boolean,c=le,h=ce,he=de,k=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,d=e=>i(e,Event),u=e=>i(e,KeyboardEvent),pe=e=>i(e,TextTrack)||!oe(e)&&ae(e.kind),me=e=>i(e,Promise)&&le(e.then),ge=e=>{if(i(e,window.URL))return!0;if(!ae(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!ue(new URL(t).hostname)}catch(e){return!1}},T=ue;const fe=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(e=>void 0!==t.style[e]);return!!l(i)&&e[i]})();function ye(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}const p={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function ve(e,t){return t.split(".").reduce((e,t)=>e&&e[t],e)}function m(t={},...e){if(!e.length)return t;const i=e.shift();return n(i)?(Object.keys(i).forEach(e=>{n(i[e])?(Object.keys(t).includes(e)||Object.assign(t,{[e]:{}}),m(t[e],i[e])):Object.assign(t,{[e]:i[e]})}),m(t,...e)):t}function be(e,o){const t=e.length?e:[e];Array.from(t).reverse().forEach((e,t)=>{const i=t>0?o.cloneNode(!0):o,s=e.parentNode,n=e.nextSibling;i.appendChild(e),n?s.insertBefore(i,n):s.appendChild(i)})}function we(i,e){k(i)&&!T(e)&&Object.entries(e).filter(([,e])=>!a(e)).forEach(([e,t])=>i.setAttribute(e,t))}function _(e,t,i){const s=document.createElement(e);return n(t)&&we(s,t),l(i)&&(s.innerText=i),s}function ke(e,t,i,s){k(t)&&t.appendChild(_(e,i,s))}function g(e){he(e)||h(e)?Array.from(e).forEach(g):k(e)&&k(e.parentNode)&&e.parentNode.removeChild(e)}function Te(e){if(!k(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function _e(e,t){return k(t)&&k(t.parentNode)&&k(e)?(t.parentNode.replaceChild(e,t),e):null}function f(e,t){if(!l(e)||T(e))return{};const r={},a=m({},t);return e.split(",").forEach(e=>{const t=e.trim(),i=t.replace(".",""),s=t.replace(/[[\]]/g,"").split("="),[n]=s,o=s.length>1?s[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":l(a.class)?r.class=`${a.class} ${i}`:r.class=i;break;case"#":r.id=t.replace("#","");break;case"[":r[n]=o}}),m(a,r)}function y(e,t){if(!k(e))return;let i=t;w(i)||(i=!e.hidden),e.hidden=i}function v(t,i,s){if(he(t))return Array.from(t).map(e=>v(e,i,s));if(k(t)){let e="toggle";return void 0!==s&&(e=s?"add":"remove"),t.classList[e](i),t.classList.contains(i)}return!1}function Ee(e,t){return k(e)&&e.classList.contains(t)}function E(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function S(e){return this.elements.container.querySelectorAll(e)}function o(e){return this.elements.container.querySelector(e)}function Se(e=null,t=!1){k(e)&&(e.focus({preventScroll:!0}),t&&v(e,this.config.classNames.tabFocus))}const Le={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},L={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t,i){const s=p.isIPhone&&i&&L.playsinline,n=L[e]||"html5"!==t;return{api:n,ui:n&&L.rangeInput&&("video"!==e||!p.isIPhone||s)}},pip:!(p.isIPhone||!c(_("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||_("video").disablePictureInPicture)),airplay:c(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(T(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Le).includes(i)&&(i+=`; codecs="${Le[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==fe,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Ae=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function A(t,e,i,s=!1,n=!0,o=!1){if(!t||!("addEventListener"in t)||T(e)||!c(i))return;const r=e.split(" ");let a=o;Ae&&(a={passive:n,capture:o}),r.forEach(e=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:t,type:e,callback:i,options:a}),t[s?"addEventListener":"removeEventListener"](e,i,a)})}function C(e,t="",i,s=!0,n=!1){A.call(this,e,t,i,!0,s,n)}function Ce(e,t="",i,s=!0,n=!1){A.call(this,e,t,i,!1,s,n)}function xe(t,i="",s,n=!0,o=!1){const r=(...e)=>{Ce(t,i,r,n,o),s.apply(this,e)};A.call(this,t,i,r,!0,n,o)}function x(e,t="",i=!1,s={}){if(!k(e)||T(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function Pe(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)}),this.eventListeners=[])}function Me(){return new Promise(e=>this.ready?setTimeout(e,0):C.call(this,this.elements.container,"ready",e)).then(()=>{})}function P(e){me(e)&&e.then(null,()=>{})}function Ie(i){return h(i)?i.filter((e,t)=>i.indexOf(e)===t):i}function Ne(e,i){return h(e)&&e.length?e.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e):null}function qe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Oe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,i])=>({...e,[t/i]:[t,i]}),{});function je(e){if(!(h(e)||l(e)&&e.includes(":")))return!1;return(h(e)?e:e.split(":")).map(Number).every(b)}function $e(e){if(!h(e)||!e.every(b))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function De(e){const t=e=>je(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!T(this.embed)&&h(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return $e(i)}function M(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=De.call(this,e);if(!h(i))return{};const[s,n]=$e(i),o=100/s*n;if(qe(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-o)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:i}}function He(e,t,i=.05){const s=e/t,n=Ne(Object.keys(Oe),s);return Math.abs(n-s)<=i?Oe[n]:[e,t]}const I={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!T(t)||L.mime.call(this,t)})},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:I.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const a=this;a.options.speed=a.config.speed.options,T(this.config.ratio)||M.call(a),Object.defineProperty(a.media,"quality",{get(){const e=I.getSources.call(a).find(e=>e.getAttribute("src")===a.source);return e&&Number(e.getAttribute("size"))},set(t){if(a.quality!==t){if(a.config.quality.forced&&c(a.config.quality.onChange))a.config.quality.onChange(t);else{const e=I.getSources.call(a).find(e=>Number(e.getAttribute("size"))===t);if(!e)return;const{currentTime:i,paused:s,preload:n,readyState:o,playbackRate:r}=a.media;a.media.src=e.getAttribute("src"),("none"!==n||o)&&(a.once("loadedmetadata",()=>{a.speed=r,a.currentTime=i,s||P(a.play())}),a.media.load())}x.call(a,a.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(g(I.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Re(e,...i){return T(e)?e:e.toString().replace(/{(\d+)}/g,(e,t)=>i[t].toString())}const Fe=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),Be=(e="")=>e.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function Ve(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=Fe(t,"-"," "),t=Fe(t,"_"," "),t=Be(t),Fe(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function Ue(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const ze={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},N={get(e="",t={}){if(T(e)||T(t))return"";let i=ve(t.i18n,e);if(T(i))return Object.keys(ze).includes(e)?ze[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach(([e,t])=>{i=Fe(i,e,t)}),i}};class We{constructor(e){r(this,"get",e=>{if(!We.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(T(t))return null;const i=JSON.parse(t);return l(e)&&e.length?i[e]:i}),r(this,"set",e=>{if(!We.supported||!this.enabled)return;if(!n(e))return;let t=this.get();T(t)&&(t={}),m(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Ke(e,s="text"){return new Promise((t,i)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if("text"===s)try{t(JSON.parse(i.responseText))}catch(e){t(i.responseText)}else t(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=s,i.send()}catch(e){i(e)}})}function Xe(e,t){if(!l(e))return;const i=l(t);let s=!1;const n=()=>null!==document.getElementById(t),o=(e,t)=>{e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){const n=We.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),i&&r.setAttribute("id",t),n){const e=window.localStorage.getItem(`cache-${t}`);if(s=null!==e,s){const t=JSON.parse(e);o(r,t.content)}}Ke(e).then(e=>{if(!T(e)){if(n)try{window.localStorage.setItem(`cache-${t}`,JSON.stringify({content:e}))}catch(e){}o(r,e)}}).catch(()=>{})}}const Ye=e=>Math.trunc(e/60/60%60,10);function Je(e=0,t=!1,i=!1){if(!b(e))return Je(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Ye(e);const o=(r=e,Math.trunc(r/60%60,10));var r;const a=(e=>Math.trunc(e%60,10))(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(o)}:${s(a)}`}const q={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||p.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=o.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:S.call(this,this.config.selectors.buttons.play),pause:o.call(this,this.config.selectors.buttons.pause),restart:o.call(this,this.config.selectors.buttons.restart),rewind:o.call(this,this.config.selectors.buttons.rewind),fastForward:o.call(this,this.config.selectors.buttons.fastForward),mute:o.call(this,this.config.selectors.buttons.mute),pip:o.call(this,this.config.selectors.buttons.pip),airplay:o.call(this,this.config.selectors.buttons.airplay),settings:o.call(this,this.config.selectors.buttons.settings),captions:o.call(this,this.config.selectors.buttons.captions),fullscreen:o.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=o.call(this,this.config.selectors.progress),this.elements.inputs={seek:o.call(this,this.config.selectors.inputs.seek),volume:o.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:o.call(this,this.config.selectors.display.buffer),currentTime:o.call(this,this.config.selectors.display.currentTime),duration:o.call(this,this.config.selectors.display.duration)},k(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=q.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,o=document.createElementNS(i,"svg");we(o,m(t,{"aria-hidden":"true",focusable:"false"}));const r=document.createElementNS(i,"use"),a=`${n}-${e}`;return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(r),o},createLabel(e,t={}){const i=N.get(e,this.config);return _("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(T(e))return null;const t=_("span",{class:this.config.classNames.menu.value});return t.appendChild(_("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=m({},t);let s=Ve(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])}),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(e=>e===this.config.classNames.control)||m(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:T(n.label)&&(n.label=s),T(n.icon)&&(n.icon=e)}const o=_(n.element);return n.toggle?(o.appendChild(q.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),o.appendChild(q.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),o.appendChild(q.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),o.appendChild(q.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(o.appendChild(q.createIcon.call(this,n.icon)),o.appendChild(q.createLabel.call(this,n.label))),m(i,f(this.config.selectors.buttons[s],i)),we(o,i),"play"===s?(h(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(o)):this.elements.buttons[s]=o,o},createRange(e,t){const i=_("input",m(f(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":N.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,q.updateRangeFill.call(this,i),se.setup(i),i},createProgress(e,t){const i=_("progress",m(f(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(_("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?N.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=f(this.config.selectors.display[e],t),s=_("div",m(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":N.get(e,this.config)}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(s,e){C.call(this,s,"keydown keyup",t=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(t.key))return;if(t.preventDefault(),t.stopPropagation(),"keydown"===t.type)return;const i=E(s,'[role="menuitemradio"]');if(!i&&["Space","ArrowRight"].includes(t.key))q.showMenuPanel.call(this,e,!0);else{let e;"Space"!==t.key&&("ArrowDown"===t.key||i&&"ArrowRight"===t.key?(e=s.nextElementSibling,k(e)||(e=s.parentNode.firstElementChild)):(e=s.previousElementSibling,k(e)||(e=s.parentNode.lastElementChild)),Se.call(this,e,!0))}},!1),C.call(this,s,"keyup",e=>{"Return"===e.key&&q.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:i,title:s,badge:n=null,checked:o=!1}){const r=f(this.config.selectors.inputs[i]),a=_("button",m(r,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${r.class?r.class:""}`.trim(),"aria-checked":o,value:t})),l=_("span");l.innerHTML=s,k(n)&&l.appendChild(n),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>"true"===a.getAttribute("aria-checked"),set(e){e&&Array.from(a.parentNode.children).filter(e=>E(e,'[role="menuitemradio"]')).forEach(e=>e.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(a,"click keyup",e=>{if(!u(e)||"Space"===e.key){switch(e.preventDefault(),e.stopPropagation(),a.checked=!0,i){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=parseFloat(t)}q.showMenuPanel.call(this,"home",u(e))}},i,!1),q.bindMenuItemShortcuts.call(this,a,i),e.appendChild(a)},formatTime(e=0,t=!1){if(!b(e))return e;return Je(e,Ye(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){k(e)&&b(t)&&(e.innerText=q.formatTime(t,i))},updateVolume(){this.supported.ui&&(k(this.elements.inputs.volume)&&q.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),k(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){k(e)&&(e.value=t,q.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!d(e))return;let t=0;const i=(e,t)=>{const i=b(t)?t:0,s=k(e)?e:this.elements.display.buffer;if(k(s)){s.value=i;const e=s.getElementsByTagName("span")[0];k(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&q.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=d(e)?e.target:e;if(k(t)&&"range"===t.getAttribute("type")){if(E(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=q.formatTime(this.currentTime),i=q.formatTime(this.duration),s=N.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(E(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);p.isWebkit&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!k(this.elements.inputs.seek)||!k(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,o=e=>v(s,n,e);if(this.touch)return void o(!1);let r=0;const a=this.elements.progress.getBoundingClientRect();if(d(e))r=100/a.width*(e.pageX-a.left);else{if(!Ee(s,n))return;r=parseFloat(s.style.left,10)}r<0?r=0:r>100&&(r=100);const l=this.duration/100*r;s.innerText=q.formatTime(l);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find(({time:e})=>e===Math.round(l));c&&s.insertAdjacentHTML("afterbegin",`${c.label}<br>`),s.style.left=`${r}%`,d(e)&&["mouseenter","mouseleave"].includes(e.type)&&o("mouseenter"===e.type)},timeUpdate(e){const t=!k(this.elements.display.duration)&&this.config.invertTime;q.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||q.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return y(this.elements.display.currentTime,!0),void y(this.elements.progress,!0);k(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=k(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&q.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&q.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&q.setMarkers.call(this),q.updateSeekTooltip.call(this)},toggleMenuButton(e,t){y(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,o=t;if("captions"===e)n=this.currentTrack;else{if(n=T(i)?this[e]:i,T(n)&&(n=this.config[e].default),!T(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(k(o)||(o=s&&s.querySelector('[role="menu"]')),!k(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=q.getLabel.call(this,e,n);const r=o&&o.querySelector(`[value="${n}"]`);k(r)&&(r.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?N.get("normal",this.config):`${t}&times;`;case"quality":if(b(t)){const e=N.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return Be(t);case"captions":return O.getLabel.call(this);default:return null}},setQualityMenu(e){if(!k(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');h(e)&&(this.options.quality=Ie(e).filter(e=>this.config.quality.options.includes(e)));const s=!T(this.options.quality)&&this.options.quality.length>1;if(q.toggleMenuButton.call(this,t,s),Te(i),q.checkMenu.call(this),!s)return;const n=e=>{const t=N.get(`qualityBadge.${e}`,this.config);return t.length?q.createBadge.call(this,t):null};this.options.quality.sort((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(e=>{q.createMenuItem.call(this,{value:e,list:i,type:t,title:q.getLabel.call(this,"quality",e),badge:n(e)})}),q.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!k(this.elements.settings.panels.captions))return;const e="captions",i=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=O.getTracks.call(this),s=Boolean(t.length);if(q.toggleMenuButton.call(this,e,s),Te(i),q.checkMenu.call(this),!s)return;const n=t.map((e,t)=>({value:t,checked:this.captions.toggled&&this.currentTrack===t,title:O.getLabel.call(this,e),badge:e.language&&q.createBadge.call(this,e.language.toUpperCase()),list:i,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:N.get("disabled",this.config),list:i,type:"language"}),n.forEach(q.createMenuItem.bind(this)),q.updateSetting.call(this,e,i)},setSpeedMenu(){if(!k(this.elements.settings.panels.speed))return;const t="speed",i=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e=>e>=this.minimumSpeed&&e<=this.maximumSpeed);const e=!T(this.options.speed)&&this.options.speed.length>1;q.toggleMenuButton.call(this,t,e),Te(i),q.checkMenu.call(this),e&&(this.options.speed.forEach(e=>{q.createMenuItem.call(this,{value:e,list:i,type:t,title:q.getLabel.call(this,"speed",e)})}),q.updateSetting.call(this,t,i))},checkMenu(){const{buttons:e}=this.elements.settings,t=!T(e)&&Object.values(e).some(e=>!e.hidden);y(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;k(i)||(i=Object.values(this.elements.settings.panels).find(e=>!e.hidden));const s=i.querySelector('[role^="menuitem"]');Se.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!k(t)||!k(i))return;const{hidden:s}=t;let n=s;if(w(e))n=e;else if(u(e)&&"Escape"===e.key)n=!1;else if(d(e)){const s=c(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(s);if(o||!o&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),y(t,!n),v(this.elements.container,this.config.classNames.menu.open,n),n&&u(e)?q.focusFirstMenuItem.call(this,null,!0):n||s||Se.call(this,i,u(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return g(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!k(i))return;const s=i.parentNode,n=Array.from(s.children).find(e=>!e.hidden);if(L.transitions&&!L.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=q.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",Ce.call(this,s,fe,t))};C.call(this,s,fe,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}y(n,!0),y(i,!1),q.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;k(e)&&e.setAttribute("href",this.download)},create(a){const{bindMenuItemShortcuts:l,createButton:i,createProgress:e,createRange:s,createTime:c,setQualityMenu:t,setSpeedMenu:n,showMenuPanel:d}=q;this.elements.controls=null,h(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const o=_("div",f(this.config.selectors.controls.wrapper));this.elements.controls=o;const u={class:"plyr__controls__item"};return Ie(h(this.config.controls)?this.config.controls:[]).forEach(t=>{if("restart"===t&&o.appendChild(i.call(this,"restart",u)),"rewind"===t&&o.appendChild(i.call(this,"rewind",u)),"play"===t&&o.appendChild(i.call(this,"play",u)),"fast-forward"===t&&o.appendChild(i.call(this,"fast-forward",u)),"progress"===t){const l=_("div",{class:`${u.class} plyr__progress__container`}),i=_("div",f(this.config.selectors.progress));if(i.appendChild(s.call(this,"seek",{id:`plyr-seek-${a.id}`})),i.appendChild(e.call(this,"buffer")),this.config.tooltips.seek){const a=_("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(a),this.elements.display.seekTooltip=a}this.elements.progress=i,l.appendChild(this.elements.progress),o.appendChild(l)}if("current-time"===t&&o.appendChild(c.call(this,"currentTime",u)),"duration"===t&&o.appendChild(c.call(this,"duration",u)),"mute"===t||"volume"===t){let{volume:e}=this.elements;if(k(e)&&o.contains(e)||(e=_("div",m({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=e,o.appendChild(e)),"mute"===t&&e.appendChild(i.call(this,"mute")),"volume"===t&&!p.isIos){const i={max:1,step:.05,value:this.config.volume};e.appendChild(s.call(this,"volume",m(i,{id:`plyr-volume-${a.id}`})))}}if("captions"===t&&o.appendChild(i.call(this,"captions",u)),"settings"===t&&!T(this.config.settings)){const e=_("div",m({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));e.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${a.id}`,"aria-expanded":!1}));const s=_("div",{class:"plyr__menu__container",id:`plyr-settings-${a.id}`,hidden:""}),c=_("div"),t=_("div",{id:`plyr-settings-${a.id}-home`}),r=_("div",{role:"menu"});t.appendChild(r),c.appendChild(t),this.elements.settings.panels.home=t,this.config.settings.forEach(e=>{const t=_("button",m(f(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));l.call(this,t,e),C.call(this,t,"click",()=>{d.call(this,e,!1)});const i=_("span",null,N.get(e,this.config)),s=_("span",{class:this.config.classNames.menu.value});s.innerHTML=a[e],i.appendChild(s),t.appendChild(i),r.appendChild(t);const n=_("div",{id:`plyr-settings-${a.id}-${e}`,hidden:""}),o=_("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});o.appendChild(_("span",{"aria-hidden":!0},N.get(e,this.config))),o.appendChild(_("span",{class:this.config.classNames.hidden},N.get("menuBack",this.config))),C.call(this,n,"keydown",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),d.call(this,"home",!0))},!1),C.call(this,o,"click",()=>{d.call(this,"home",!1)}),n.appendChild(o),n.appendChild(_("div",{role:"menu"})),c.appendChild(n),this.elements.settings.buttons[e]=t,this.elements.settings.panels[e]=n}),s.appendChild(c),e.appendChild(s),o.appendChild(e),this.elements.settings.popup=s,this.elements.settings.menu=e}if("pip"===t&&L.pip&&o.appendChild(i.call(this,"pip",u)),"airplay"===t&&L.airplay&&o.appendChild(i.call(this,"airplay",u)),"download"===t){const a=m({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(a.download="");const{download:l}=this.config.urls;!ge(l)&&this.isEmbed&&m(a,{icon:`logo-${this.provider}`,label:this.provider}),o.appendChild(i.call(this,"download",a))}"fullscreen"===t&&o.appendChild(i.call(this,"fullscreen",u))}),this.isHTML5&&t.call(this,I.getQualityOptions.call(this)),n.call(this),o},inject(){if(this.config.loadSprite){const t=q.getIconUrl.call(this);t.cors&&Xe(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let t=null;this.elements.controls=null;const s={id:this.id,seektime:this.config.seekTime,title:this.config.title};let e=!0;c(this.config.controls)&&(this.config.controls=this.config.controls.call(this,s)),this.config.controls||(this.config.controls=[]),k(this.config.controls)||l(this.config.controls)?t=this.config.controls:(t=q.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:O.getLabel.call(this)}),e=!1);let i;e&&l(this.config.controls)&&(t=(e=>{let i=e;return Object.entries(s).forEach(([e,t])=>{i=Fe(i,`{${e}}`,t)}),i})(t)),l(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),k(i)||(i=this.elements.container);if(i[k(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),k(this.elements.controls)||q.findElements.call(this),!T(this.elements.buttons)){const t=t=>{const i=this.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:()=>Ee(t,i),set(e=!1){v(t,i,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{h(e)||he(e)?Array.from(e).filter(Boolean).forEach(t):t(e)})}if(p.isEdge&&ye(i),this.config.tooltips.controls){const{classNames:t,selectors:s}=this.config,e=`${s.controls.wrapper} ${s.labels} .${t.hidden}`,i=S.call(this,e);Array.from(i).forEach(e=>{v(e,this.config.classNames.hidden,!1),v(e,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter(({time:e})=>e>0&&e<this.duration);if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let o=null;const r=`${this.config.classNames.tooltip}--visible`,a=e=>v(o,r,e);i.forEach(e=>{const t=_("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";o&&(t.addEventListener("mouseenter",()=>{e.label||(o.style.left=i,o.innerHTML=e.label,a(!0))}),t.addEventListener("mouseleave",()=>{a(!1)})),t.addEventListener("click",()=>{this.currentTime=e.time}),t.style.left=i,n.appendChild(t)}),s.appendChild(n),this.config.tooltips.seek||(o=_("span",{class:this.config.classNames.tooltip},""),s.appendChild(o)),this.elements.markers={points:n,tip:o},this.elements.progress.appendChild(s)}};function Ge(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Qe(e){const i=new URLSearchParams;return n(e)&&Object.entries(e).forEach(([e,t])=>{i.set(e,t)}),i}const O={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!L.textTracks)return void(h(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&q.setCaptionsMenu.call(this));var e,t;if(k(this.elements.captions)||(this.elements.captions=_("div",f(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,k(e)&&k(t)&&t.parentNode.insertBefore(e,t.nextSibling)),p.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach(t=>{const e=t.getAttribute("src"),i=Ge(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Ke(e,"blob").then(e=>{t.setAttribute("src",window.URL.createObjectURL(e))}).catch(()=>{g(t)})})}const i=Ie((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e=>e.split("-")[0]));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(w(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";C.call(this,this.media.textTracks,e,O.update.bind(this))}setTimeout(O.update.bind(this),0)},update(){const e=O.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,o=Boolean(e.find(e=>e.language===i));this.isHTML5&&this.isVideo&&e.filter(e=>!s.get(e)).forEach(e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),C.call(this,e,"cuechange",()=>O.updateCues.call(this))}),(o&&this.language!==i||!e.includes(n))&&(O.setLanguage.call(this,i),O.toggle.call(this,t&&o)),this.elements&&v(this.elements.container,this.config.classNames.captions.enabled,!T(e)),h(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&q.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=a(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=O.getTracks.call(this),t=O.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void O.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),v(this.elements.container,s,n),this.captions.toggled=n,q.updateSetting.call(this,"captions"),x.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const i=O.getTracks.call(this);if(-1!==e)if(b(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,q.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),x.call(this,this.media,"languagechange")}O.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&O.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else O.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!l(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=O.getTracks.call(this),n=O.findTrack.call(this,[i]);O.set.call(this,s.indexOf(n),t)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||t||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(e,t=!1){const i=O.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort((e,t)=>s(t)-s(e));let o;return e.every(t=>(o=n.find(e=>e.language===t),!o)),o||(t?n[0]:void 0)},getCurrentTrack(){return O.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!pe(t)&&L.textTracks&&this.captions.toggled&&(t=O.getCurrentTrack.call(this)),pe(t)?T(t.label)?T(t.language)?N.get("enabled",this.config):e.language.toUpperCase():t.label:N.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!k(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!a(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=O.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map(e=>e.getCueAsHTML()).map(Ue)}const i=t.map(e=>e.trim()).join("\n");if(i!==this.elements.captions.innerHTML){Te(this.elements.captions);const e=_("span",f(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),x.call(this,this.media,"cuechange")}}},Ze={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},et="picture-in-picture",tt="inline",j={html5:"html5",youtube:"youtube",vimeo:"vimeo"},e="audio",it="video",st=()=>{};class nt{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):st}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):st}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):st}}class ${constructor(e){r(this,"onChange",()=>{if(!this.enabled)return;const e=this.player.elements.buttons.fullscreen;k(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;x.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}),r(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",v(this.target,this.player.config.classNames.fullscreen.fallback,t),p.isIos){let e=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";e||(e=document.createElement("meta"),e.setAttribute("name","viewport"));const s=l(e.content)&&e.content.includes(i);t?(this.cleanupViewport=!s,s||(e.content+=`,${i}`)):this.cleanupViewport&&(e.content=e.content.split(",").filter(e=>e.trim()!==i).join(","))}this.onChange()}),r(this,"trapFocus",e=>{if(p.isIos||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=S.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())}),r(this,"update",()=>{if(this.enabled){let e;e=this.forceFallback?"Fallback (forced)":$.native?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");v(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),r(this,"enter",()=>{this.enabled&&(p.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!$.native||this.forceFallback?this.toggleFallback(!0):this.prefix?T(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),r(this,"exit",()=>{if(this.enabled)if(p.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),P(this.player.play());else if(!$.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!T(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),r(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=$.prefix,this.property=$.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(E.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),C.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),C.call(this.player,this.player.elements.container,"dblclick",e=>{k(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")}),C.call(this,this.player.elements.container,"keydown",e=>this.trapFocus(e)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return $.native&&!this.forceFallback}static get prefix(){if(c(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(e=>!(!c(document[`${e}ExitFullscreen`])&&!c(document[`${e}CancelFullScreen`]))&&(t=e,!0)),t}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return($.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!$.native||this.forceFallback)return Ee(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return p.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function ot(n,o=1){return new Promise((e,t)=>{const i=new Image,s=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=o?e:t)(i)};Object.assign(i,{onload:s,onerror:s,src:n})})}const D={addStyleHook(){v(this.elements.container,this.config.selectors.container.replace(".",""),!0),v(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void D.toggleNativeControls.call(this,!0);k(this.elements.controls)||(q.inject.call(this),this.listeners.controls()),D.toggleNativeControls.call(this),this.isHTML5&&O.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,q.updateVolume.call(this),q.timeUpdate.call(this),q.durationUpdate.call(this),D.checkPlaying.call(this),v(this.elements.container,this.config.classNames.pip.supported,L.pip&&this.isHTML5&&this.isVideo),v(this.elements.container,this.config.classNames.airplay.supported,L.airplay&&this.isHTML5),v(this.elements.container,this.config.classNames.isIos,p.isIos),v(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{x.call(this,this.media,"ready")},0),D.setTitle.call(this),this.poster&&D.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&q.durationUpdate.call(this),this.config.mediaMetadata&&q.setMediaMetadata.call(this)},setTitle(){let t=N.get("play",this.config);if(l(this.config.title)&&!T(this.config.title)&&(t+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const t=o.call(this,"iframe");if(!k(t))return;const e=T(this.config.title)?"video":this.config.title,i=N.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",e))}},togglePoster(e){v(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),Me.call(this).then(()=>ot(t)).catch(e=>{throw t===this.poster&&D.togglePoster.call(this,!1),e}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),D.togglePoster.call(this,!0),t)))},checkPlaying(e){v(this.elements.container,this.config.classNames.playing,this.playing),v(this.elements.container,this.config.classNames.paused,this.paused),v(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",N.get(this.playing?"pause":"play",this.config))}),d(e)&&"timeupdate"===e.type||D.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{v(this.elements.container,this.config.classNames.loading,this.loading),D.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!T(e)&&l(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),T(this.media.style)&&this.media.removeAttribute("style")}};class rt{constructor(e){r(this,"firstTouch",()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,v(t.container,e.config.classNames.isTouch,!0)}),r(this,"setTabFocus",e=>{const{player:t}=this,{elements:i}=t,{key:s,type:n,timeStamp:o}=e;if(clearTimeout(this.focusTimer),"keydown"===n&&"Tab"!==s)return;"keydown"===n&&(this.lastKeyDown=o);const r=o-this.lastKeyDown<=20;("focus"!==n||r)&&((()=>{const e=t.config.classNames.tabFocus;v(S.call(t,`.${e}`),e,!1)})(),"focusout"!==n&&(this.focusTimer=setTimeout(()=>{const e=document.activeElement;i.container.contains(e)&&v(document.activeElement,t.config.classNames.tabFocus,!0)},10)))}),r(this,"global",(e=!0)=>{const{player:t}=this;t.config.keyboard.global&&A.call(t,window,"keydown keyup",this.handleKey,e,!1),A.call(t,document.body,"click",this.toggleMenu,e),xe.call(t,document.body,"touchstart",this.firstTouch),A.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}),r(this,"container",()=>{const{player:l}=this,{config:e,elements:c,timers:s}=l;!e.keyboard.global&&e.keyboard.focused&&C.call(l,c.container,"keydown keyup",this.handleKey,!1),C.call(l,c.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",e=>{const{controls:t}=c;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1);let i=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(D.toggleControls.call(l,!0),i=l.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>D.toggleControls.call(l,!1),i)});const i=()=>{if(!l.isVimeo||l.config.vimeo.premium)return;const e=c.wrapper,{active:t}=l.fullscreen,[i,s]=De.call(l),n=qe(`aspect-ratio: ${i} / ${s}`);if(!t)return void(n?(e.style.width=null,e.style.height=null):(e.style.maxWidth=null,e.style.margin=null));const[o,r]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],a=o/r>i/s;n?(e.style.width=a?"auto":"100%",e.style.height=a?"100%":"auto"):(e.style.maxWidth=a?r/s*i+"px":null,e.style.margin=a?"0 auto":null)},n=()=>{clearTimeout(s.resized),s.resized=setTimeout(i,50)};C.call(l,c.container,"enterfullscreen exitfullscreen",e=>{const{target:t}=l.fullscreen;if(t!==c.container)return;if(!l.isEmbed&&T(l.config.ratio))return;i();("enterfullscreen"===e.type?C:Ce).call(l,window,"resize",n)})}),r(this,"media",()=>{const{player:i}=this,{elements:s}=i;if(C.call(i,i.media,"timeupdate seeking seeked",e=>q.timeUpdate.call(i,e)),C.call(i,i.media,"durationchange loadeddata loadedmetadata",e=>q.durationUpdate.call(i,e)),C.call(i,i.media,"ended",()=>{i.isHTML5&&i.isVideo&&i.config.resetOnEnd&&(i.restart(),i.pause())}),C.call(i,i.media,"progress playing seeking seeked",e=>q.updateProgress.call(i,e)),C.call(i,i.media,"volumechange",e=>q.updateVolume.call(i,e)),C.call(i,i.media,"playing play pause ended emptied timeupdate",e=>D.checkPlaying.call(i,e)),C.call(i,i.media,"waiting canplay seeked playing",e=>D.checkLoading.call(i,e)),i.supported.ui&&i.config.clickToPlay&&!i.isAudio){const t=o.call(i,`.${i.config.classNames.video}`);if(!k(t))return;C.call(i,s.container,"click",e=>{([s.container,t].includes(e.target)||t.contains(e.target))&&(i.touch&&i.config.hideControls||(i.ended?(this.proxy(e,i.restart,"restart"),this.proxy(e,()=>{P(i.play())},"play")):this.proxy(e,()=>{P(i.togglePlay())},"play")))})}i.supported.ui&&i.config.disableContextMenu&&C.call(i,s.wrapper,"contextmenu",e=>{e.preventDefault()},!1),C.call(i,i.media,"volumechange",()=>{i.storage.set({volume:i.volume,muted:i.muted})}),C.call(i,i.media,"ratechange",()=>{q.updateSetting.call(i,"speed"),i.storage.set({speed:i.speed})}),C.call(i,i.media,"qualitychange",e=>{q.updateSetting.call(i,"quality",null,e.detail.quality)}),C.call(i,i.media,"ready qualitychange",()=>{q.setDownloadUrl.call(i)});const t=i.config.events.concat(["keyup","keydown"]).join(" ");C.call(i,i.media,t,e=>{let{detail:t={}}=e;"error"===e.type&&(t=i.media.error),x.call(i,s.container,e.type,!0,t)})}),r(this,"proxy",(e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let o=!0;c(n)&&(o=n.call(s,e)),!1!==o&&c(t)&&t.call(s,e)}),r(this,"bind",(e,t,i,s,n=!0)=>{const{player:o}=this,r=o.config.listeners[s],a=c(r);C.call(o,e,t,e=>this.proxy(e,i,s),n&&!a)}),r(this,"controls",()=>{const{player:r}=this,{elements:s}=r,t=p.isIE?"change":"input";if(s.buttons.play&&Array.from(s.buttons.play).forEach(e=>{this.bind(e,"click",()=>{P(r.togglePlay())},"play")}),this.bind(s.buttons.restart,"click",r.restart,"restart"),this.bind(s.buttons.rewind,"click",()=>{r.lastSeekTime=Date.now(),r.rewind()},"rewind"),this.bind(s.buttons.fastForward,"click",()=>{r.lastSeekTime=Date.now(),r.forward()},"fastForward"),this.bind(s.buttons.mute,"click",()=>{r.muted=!r.muted},"mute"),this.bind(s.buttons.captions,"click",()=>r.toggleCaptions()),this.bind(s.buttons.download,"click",()=>{x.call(r,r.media,"download")},"download"),this.bind(s.buttons.fullscreen,"click",()=>{r.fullscreen.toggle()},"fullscreen"),this.bind(s.buttons.pip,"click",()=>{r.pip="toggle"},"pip"),this.bind(s.buttons.airplay,"click",r.airplay,"airplay"),this.bind(s.buttons.settings,"click",e=>{e.stopPropagation(),e.preventDefault(),q.toggleMenu.call(r,e)},null,!1),this.bind(s.buttons.settings,"keyup",e=>{["Space","Enter"].includes(e.key)&&("Enter"!==e.key?(e.preventDefault(),e.stopPropagation(),q.toggleMenu.call(r,e)):q.focusFirstMenuItem.call(r,null,!0))},null,!1),this.bind(s.settings.menu,"keydown",e=>{"Escape"===e.key&&q.toggleMenu.call(r,e)}),this.bind(s.inputs.seek,"mousedown mousemove",e=>{const t=s.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)}),this.bind(s.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",e=>{const t=e.currentTarget,i="play-on-seeked";if(u(e)&&!["ArrowLeft","ArrowRight"].includes(e.key))return;r.lastSeekTime=Date.now();const s=t.hasAttribute(i),n=["mouseup","touchend","keyup"].includes(e.type);s&&n?(t.removeAttribute(i),P(r.play())):!n&&r.playing&&(t.setAttribute(i,""),r.pause())}),p.isIos){const s=S.call(r,'input[type="range"]');Array.from(s).forEach(e=>this.bind(e,t,e=>ye(e.target)))}this.bind(s.inputs.seek,t,e=>{const t=e.currentTarget;let i=t.getAttribute("seek-value");T(i)&&(i=t.value),t.removeAttribute("seek-value"),r.currentTime=i/t.max*r.duration},"seek"),this.bind(s.progress,"mouseenter mouseleave mousemove",e=>q.updateSeekTooltip.call(r,e)),this.bind(s.progress,"mousemove touchmove",e=>{const{previewThumbnails:t}=r;t&&t.loaded&&t.startMove(e)}),this.bind(s.progress,"mouseleave touchend click",()=>{const{previewThumbnails:e}=r;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(s.progress,"mousedown touchstart",e=>{const{previewThumbnails:t}=r;t&&t.loaded&&t.startScrubbing(e)}),this.bind(s.progress,"mouseup touchend",e=>{const{previewThumbnails:t}=r;t&&t.loaded&&t.endScrubbing(e)}),p.isWebkit&&Array.from(S.call(r,'input[type="range"]')).forEach(e=>{this.bind(e,"input",e=>q.updateRangeFill.call(r,e.target))}),r.config.toggleInvert&&!k(s.display.duration)&&this.bind(s.display.currentTime,"click",()=>{0!==r.currentTime&&(r.config.invertTime=!r.config.invertTime,q.timeUpdate.call(r))}),this.bind(s.inputs.volume,t,e=>{r.volume=e.target.value},"volume"),this.bind(s.controls,"mouseenter mouseleave",e=>{s.controls.hover=!r.touch&&"mouseenter"===e.type}),s.fullscreen&&Array.from(s.fullscreen.children).filter(e=>!e.contains(s.container)).forEach(e=>{this.bind(e,"mouseenter mouseleave",e=>{s.controls&&(s.controls.hover=!r.touch&&"mouseenter"===e.type)})}),this.bind(s.controls,"mousedown mouseup touchstart touchend touchcancel",e=>{s.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(s.controls,"focusin",()=>{const{config:e,timers:t}=r;v(s.controls,e.classNames.noTransition,!0),D.toggleControls.call(r,!0),setTimeout(()=>{v(s.controls,e.classNames.noTransition,!1)},0);const i=this.touch?3e3:4e3;clearTimeout(t.controls),t.controls=setTimeout(()=>D.toggleControls.call(r,!1),i)}),this.bind(s.inputs.volume,"wheel",e=>{const t=e.webkitDirectionInvertedFromDevice,[i,s]=[e.deltaX,-e.deltaY].map(e=>t?-e:e),n=Math.sign(Math.abs(i)>Math.abs(s)?i:s);r.increaseVolume(n/50);const{volume:o}=r.media;(1===n&&o<1||-1===n&&o>0)&&e.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:o,ctrlKey:r,metaKey:a,shiftKey:l}=e,c="keydown"===n,d=c&&s===this.lastKey;if(o||r||a||l)return;if(!s)return;if(c){const n=document.activeElement;if(k(n)){const{editable:s}=t.config.selectors,{seek:o}=i.inputs;if(n!==o&&E(n,s))return;if("Space"===e.key&&E(n,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(u=parseInt(s,10),t.currentTime=t.duration/10*u);break;case"Space":case"k":d||P(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":d||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":d||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var u}toggleMenu(e){q.toggleMenu.call(this.player,e)}}var at=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){e.exports=function(){var h=function(){},r={},l={},c={};function i(e,i){e=e.push?e:[e];var t,s,n,o=[],r=e.length,a=r;for(t=function(e,t){t.length&&o.push(e),--a||i(o)};r--;)s=e[r],(n=l[s])?t(s,n):(c[s]=c[s]||[]).push(t)}function a(e,t){if(e){var i=c[e];if(l[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function d(e,t){e.call&&(e={success:e}),t.length?(e.error||h)(t):(e.success||h)(e)}function p(i,s,n,o){var r,a,e=document,t=n.async,l=(n.numRetries||0)+1,c=n.before||h,d=i.replace(/[\?|#].*$/,""),u=i.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(d)?((a=e.createElement("link")).rel="stylesheet",a.href=u,(r="hideFocus"in a)&&a.relList&&(r=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(a=e.createElement("img")).src=u:((a=e.createElement("script")).src=i,a.async=void 0===t||t),a.onload=a.onerror=a.onbeforeload=function(e){var t=e.type[0];if(r)try{a.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((o+=1)<l)return p(i,s,n,o)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";s(i,t,e.defaultPrevented)},!1!==c(i,a)&&e.head.appendChild(a)}function u(e,s,t){var i,n,o=(e=e.push?e:[e]).length,r=o,a=[];for(i=function(e,t,i){if("e"==t&&a.push(e),"b"==t){if(!i)return;a.push(e)}--o||s(a)},n=0;n<r;n++)p(e[n],i,t)}function s(e,t,i){var s,n;if(t&&t.trim&&(s=t),n=(s?i:t)||{},s){if(s in r)throw"LoadJS";r[s]=!0}function o(t,i){u(e,function(e){d(n,e),t&&d({success:t,error:i},e),a(s,e)},n)}if(n.returnPromise)return new Promise(o);o()}return s.ready=function(e,t){return i(e,function(e){d(t,e)}),s},s.done=function(e){a(e,[])},s.reset=function(){r={},l={},c={}},s.isDefined=function(e){return e in r},s}()}),lt;function ct(i){return new Promise((e,t)=>{at(i,{success:e,error:t})})}function dt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,x.call(this,this.media,e?"play":"pause"))}const ut={setup(){const t=this;v(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,M.call(t),n(window.Vimeo)?ut.ready.call(t):ct(t.config.urls.vimeo.sdk).then(()=>{ut.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const r=this,e=r.config.vimeo,{premium:t,referrerPolicy:i,...s}=e;let n=r.media.getAttribute("src"),o="";T(n)?(n=r.media.getAttribute(r.config.attributes.embed.id),o=r.media.getAttribute(r.config.attributes.embed.hash)):o=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(n);const a=o?{h:o}:{};t&&Object.assign(s,{controls:!1,sidedock:!1});const l=Qe({loop:r.config.loop.active,autoplay:r.autoplay,muted:r.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...a,...s}),c=T(d=n)?null:b(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d;var d;const u=_("iframe"),h=Re(r.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),T(i)||u.setAttribute("referrerPolicy",i),t||!e.customControls)u.setAttribute("data-poster",r.poster),r.media=_e(u,r.media);else{const e=_("div",{class:r.config.classNames.embedContainer,"data-poster":r.poster});e.appendChild(u),r.media=_e(e,r.media)}e.customControls||Ke(Re(r.config.urls.vimeo.api,h)).then(e=>{!T(e)&&e.thumbnail_url&&D.setPoster.call(r,e.thumbnail_url).catch(()=>{})}),r.embed=new window.Vimeo.Player(u,{autopause:r.config.autopause,muted:r.muted}),r.media.paused=!0,r.media.currentTime=0,r.supported.ui&&r.embed.disableTextTrack(),r.media.play=()=>(dt.call(r,!0),r.embed.play()),r.media.pause=()=>(dt.call(r,!1),r.embed.pause()),r.media.stop=()=>{r.pause(),r.currentTime=0};let{currentTime:p}=r.media;Object.defineProperty(r.media,"currentTime",{get:()=>p,set(e){const{embed:t,media:i,paused:s,volume:n}=r,o=s&&!t.hasPlayed;i.seeking=!0,x.call(r,i,"seeking"),Promise.resolve(o&&t.setVolume(0)).then(()=>t.setCurrentTime(e)).then(()=>o&&t.pause()).then(()=>o&&t.setVolume(n)).catch(()=>{})}});let m=r.config.speed.selected;Object.defineProperty(r.media,"playbackRate",{get:()=>m,set(e){r.embed.setPlaybackRate(e).then(()=>{m=e,x.call(r,r.media,"ratechange")}).catch(()=>{r.options.speed=[1]})}});let{volume:g}=r.config;Object.defineProperty(r.media,"volume",{get:()=>g,set(e){r.embed.setVolume(e).then(()=>{g=e,x.call(r,r.media,"volumechange")})}});let{muted:f}=r.config;Object.defineProperty(r.media,"muted",{get:()=>f,set(e){const t=!!w(e)&&e;r.embed.setVolume(t?0:r.config.volume).then(()=>{f=t,x.call(r,r.media,"volumechange")})}});let y,{loop:v}=r.config;Object.defineProperty(r.media,"loop",{get:()=>v,set(e){const t=w(e)?e:r.config.loop.active;r.embed.setLoop(t).then(()=>{v=t})}}),r.embed.getVideoUrl().then(e=>{y=e,q.setDownloadUrl.call(r)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(r.media,"currentSrc",{get:()=>y}),Object.defineProperty(r.media,"ended",{get:()=>r.currentTime===r.duration}),Promise.all([r.embed.getVideoWidth(),r.embed.getVideoHeight()]).then(e=>{const[t,i]=e;r.embed.ratio=He(t,i),M.call(this)}),r.embed.setAutopause(r.config.autopause).then(e=>{r.config.autopause=e}),r.embed.getVideoTitle().then(e=>{r.config.title=e,D.setTitle.call(this)}),r.embed.getCurrentTime().then(e=>{p=e,x.call(r,r.media,"timeupdate")}),r.embed.getDuration().then(e=>{r.media.duration=e,x.call(r,r.media,"durationchange")}),r.embed.getTextTracks().then(e=>{r.media.textTracks=e,O.setup.call(r)}),r.embed.on("cuechange",({cues:e=[]})=>{const t=e.map(e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text));O.updateCues.call(r,t)}),r.embed.on("loaded",()=>{if(r.embed.getPaused().then(e=>{dt.call(r,!e),e||x.call(r,r.media,"playing")}),k(r.embed.element)&&r.supported.ui)r.embed.element.setAttribute("tabindex",-1)}),r.embed.on("bufferstart",()=>{x.call(r,r.media,"waiting")}),r.embed.on("bufferend",()=>{x.call(r,r.media,"playing")}),r.embed.on("play",()=>{dt.call(r,!0),x.call(r,r.media,"playing")}),r.embed.on("pause",()=>{dt.call(r,!1)}),r.embed.on("timeupdate",e=>{r.media.seeking=!1,p=e.seconds,x.call(r,r.media,"timeupdate")}),r.embed.on("progress",e=>{r.media.buffered=e.percent,x.call(r,r.media,"progress"),1===parseInt(e.percent,10)&&x.call(r,r.media,"canplaythrough"),r.embed.getDuration().then(e=>{e!==r.media.duration&&(r.media.duration=e,x.call(r,r.media,"durationchange"))})}),r.embed.on("seeked",()=>{r.media.seeking=!1,x.call(r,r.media,"seeked")}),r.embed.on("ended",()=>{r.media.paused=!0,x.call(r,r.media,"ended")}),r.embed.on("error",e=>{r.media.error=e,x.call(r,r.media,"error")}),e.customControls&&setTimeout(()=>D.build.call(r),0)}};function ht(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,x.call(this,this.media,e?"play":"pause"))}function pt(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const mt={setup(){if(v(this.elements.wrapper,this.config.classNames.embed,!0),n(window.YT)&&c(window.YT.Player))mt.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c(e)&&e(),mt.ready.call(this)},ct(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){Ke(Re(this.config.urls.youtube.api,e)).then(e=>{if(n(e)){const{title:t,height:i,width:s}=e;this.config.title=t,D.setTitle.call(this),this.embed.ratio=He(s,i)}M.call(this)}).catch(()=>{M.call(this)})},ready(){const o=this,r=o.config.youtube,e=o.media&&o.media.getAttribute("id");if(!T(e)&&e.startsWith("youtube-"))return;let t=o.media.getAttribute("src");T(t)&&(t=o.media.getAttribute(this.config.attributes.embed.id));const a=T(i=t)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i;var i;const s=_("div",{id:`${o.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":r.customControls?o.poster:void 0});if(o.media=_e(s,o.media),r.customControls){const r=e=>`https://i.ytimg.com/vi/${a}/${e}default.jpg`;ot(r("maxres"),121).catch(()=>ot(r("sd"),121)).catch(()=>ot(r("hq"))).then(e=>D.setPoster.call(o,e.src)).then(e=>{e.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}o.embed=new window.YT.Player(o.media,{videoId:a,host:pt(r),playerVars:m({},{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui&&r.customControls?0:1,disablekb:1,playsinline:o.config.fullscreen.iosNative?0:1,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language,widget_referrer:window?window.location.href:null},r),events:{onError(e){if(!o.media.error){const t=e.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";o.media.error={code:t,message:i},x.call(o,o.media,"error")}},onPlaybackRateChange(e){const t=e.target;o.media.playbackRate=t.getPlaybackRate(),x.call(o,o.media,"ratechange")},onReady(e){if(c(o.media.play))return;const i=e.target;mt.getTitle.call(o,a),o.media.play=()=>{ht.call(o,!0),i.playVideo()},o.media.pause=()=>{ht.call(o,!1),i.pauseVideo()},o.media.stop=()=>{i.stopVideo()},o.media.duration=i.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:()=>Number(i.getCurrentTime()),set(e){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,x.call(o,o.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(o.media,"playbackRate",{get:()=>i.getPlaybackRate(),set(e){i.setPlaybackRate(e)}});let{volume:s}=o.config;Object.defineProperty(o.media,"volume",{get:()=>s,set(e){s=e,i.setVolume(100*s),x.call(o,o.media,"volumechange")}});let{muted:n}=o.config;Object.defineProperty(o.media,"muted",{get:()=>n,set(e){const t=w(e)?e:n;n=t,i[t?"mute":"unMute"](),i.setVolume(100*s),x.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:()=>i.getVideoUrl()}),Object.defineProperty(o.media,"ended",{get:()=>o.currentTime===o.duration});const t=i.getAvailablePlaybackRates();o.options.speed=t.filter(e=>o.config.speed.options.includes(e)),o.supported.ui&&r.customControls&&o.media.setAttribute("tabindex",-1),x.call(o,o.media,"timeupdate"),x.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(()=>{o.media.buffered=i.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&x.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),x.call(o,o.media,"canplaythrough"))},200),r.customControls&&setTimeout(()=>D.build.call(o),50)},onStateChange(e){const t=e.target;clearInterval(o.timers.playing);switch(o.media.seeking&&[1,2].includes(e.data)&&(o.media.seeking=!1,x.call(o,o.media,"seeked")),e.data){case-1:x.call(o,o.media,"timeupdate"),o.media.buffered=t.getVideoLoadedFraction(),x.call(o,o.media,"progress");break;case 0:ht.call(o,!1),o.media.loop?(t.stopVideo(),t.playVideo()):x.call(o,o.media,"ended");break;case 1:r.customControls&&!o.config.autoplay&&o.media.paused&&!o.embed.hasPlayed?o.media.pause():(ht.call(o,!0),x.call(o,o.media,"playing"),o.timers.playing=setInterval(()=>{x.call(o,o.media,"timeupdate")},50),o.media.duration!==t.getDuration()&&(o.media.duration=t.getDuration(),x.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),ht.call(o,!1);break;case 3:x.call(o,o.media,"waiting")}x.call(o,o.elements.container,"statechange",!1,{code:e.data})}}})}},gt={setup(){this.media?(v(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),v(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&v(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=_("div",{class:this.config.classNames.video}),be(this.media,this.elements.wrapper),this.elements.poster=_("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?I.setup.call(this):this.isYouTube?mt.setup.call(this):this.isVimeo&&ut.setup.call(this)):this.debug.warn("No media element found!")}};class ft{constructor(e){r(this,"load",()=>{this.enabled&&(n(window.google)&&n(window.google.ima)?this.ready():ct(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),r(this,"ready",()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),r(this,"setupIMA",()=>{this.elements.container=_("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()}),r(this,"requestAds",()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}),r(this,"pollCountdown",(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const e=Je(Math.max(this.manager.getRemainingTime(),0)),t=`${N.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)},100)}),r(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")}),r(this,"addCuePoints",()=>{T(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(k(t)){const i=100/this.player.duration*e,s=_("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}})}),r(this,"onAdEvent",e=>{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{x.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),r(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)}),r(this,"listeners",()=>{const{container:e}=this.player.elements;let s;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{s=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;T(this.cuePoints)||this.cuePoints.forEach((e,t)=>{s<e&&e<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(t,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}),r(this,"play",()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}}).catch(()=>{})}),r(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,P(this.player.media.play())}),r(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),r(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),r(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),r(this,"trigger",(e,...t)=>{const i=this.events[e];h(i)&&i.forEach(e=>{c(e)&&e.apply(this,t)})}),r(this,"on",(e,t)=>(h(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this)),r(this,"startSafetyTimer",(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)}),r(this,"clearSafetyTimer",e=>{a(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!T(e.publisherId)||ge(e.tagUrl))}get tagUrl(){const{config:e}=this;if(ge(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${Qe({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function yt(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const vt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{const s={};e.split(/\r\n|\n|\r/).forEach(e=>{if(b(s.startTime)){if(!T(e.trim())&&T(s.text)){const t=e.trim().split("#xywh=");[s.text]=t,t[1]&&([s.x,s.y,s.w,s.h]=t[1].split(","))}}else{const i=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);i&&(s.startTime=60*Number(i[1]||0)*60+60*Number(i[2])+Number(i[3])+Number(`0.${i[4]}`),s.endTime=60*Number(i[6]||0)*60+60*Number(i[7])+Number(i[8])+Number(`0.${i[9]}`))}}),s.text&&t.push(s)}),t},bt=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class wt{constructor(e){r(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),r(this,"getThumbnails",()=>new Promise(e=>{const{src:t}=this.player.config.previewThumbnails;if(T(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(c(t))t(e=>{this.thumbnails=e,i()});else{const e=(l(t)?[t]:t).map(e=>this.getThumbnail(e));Promise.all(e).then(i)}})),r(this,"getThumbnail",n=>new Promise(s=>{Ke(n).then(e=>{const t={frames:vt(e),height:null,urlPrefix:""};t.frames[0].text.startsWith("/")||t.frames[0].text.startsWith("http://")||t.frames[0].text.startsWith("https://")||(t.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const i=new Image;i.onload=()=>{t.height=i.naturalHeight,t.width=i.naturalWidth,this.thumbnails.push(t),s()},i.src=t.urlPrefix+t.frames[0].text})})),r(this,"startMove",e=>{if(this.loaded&&d(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Je(this.seekTime);const o=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find(({time:e})=>e===Math.round(this.seekTime));o&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${o.label}<br>`)}this.showImageAtCurrentTime()}}),r(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),r(this,"startScrubbing",e=>{(a(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),r(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):xe.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),r(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),r(this,"render",()=>{this.elements.thumb.container=_("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=_("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=_("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=_("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),k(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=_("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),r(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),r(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const i=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),e=i>=0;let s=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach((e,t)=>{this.loadedImages.includes(e.frames[i].text)&&(s=t)}),i!==this.showingThumb&&(this.showingThumb=i,this.loadImage(s)))}),r(this,"loadImage",(e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],o=i.frames[t].text,r=s+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,n,e,t,o,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=r,i.dataset.index=t,i.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log(`Loading image: ${r}`),i.onload=()=>this.showImage(i,n,e,t,o,!0),this.loadingImage=i,this.removeOldImages(i)}}),r(this,"showImage",(e,t,i,s,n,o=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${o}`),this.setImageSizeAndOffset(e,t),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))}),r(this,"removeOldImages",i=>{Array.from(this.currentImageContainer.children).forEach(e=>{if("img"!==e.tagName.toLowerCase())return;const t=this.usingSprites?500:1e3;if(e.dataset.index!==i.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;const{currentImageContainer:i}=this;setTimeout(()=>{i.removeChild(e),this.player.debug.log(`Removing thumb: ${e.dataset.filename}`)},t)}})}),r(this,"preloadNearby",(t,i=!0)=>new Promise(o=>{setTimeout(()=>{const n=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===n){let e;e=i?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let s=!1;e.forEach(e=>{const t=e.text;if(t!==n&&!this.loadedImages.includes(t)){s=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],n=e+t,i=new Image;i.src=n,i.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),o()}}}),s||o()}},300)})),r(this,"getHigherQuality",(t,i,s,n)=>{if(t<this.thumbnails.length-1){let e=i.naturalHeight;this.usingSprites&&(e=s.h),e<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(t+1))},300)}}),r(this,"toggleThumbContainer",(e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}),r(this,"toggleScrubbingContainer",(e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}),r(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),r(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const i=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${i}px`}}else{const s=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${s}px`}this.setThumbContainerPos()}),r(this,"setThumbContainerPos",()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,o=this.mousePosX-e.left-i.clientWidth/2,r=yt(o,s,n);i.style.left=`${r}px`,i.style.setProperty("--preview-arrow-offset",o-r+"px")}),r(this,"setScrubbingContainerSize",()=>{const{width:e,height:t}=bt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`}),r(this,"setImageSizeAndOffset",(e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=bt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const kt={insertElements(t,e){l(e)?ke(t,this.media,{src:e}):h(e)&&e.forEach(e=>{ke(t,this.media,e)})},change(r){ve(r,"sources.length")?(I.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],g(this.media),this.media=null,k(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:t}=r,[{provider:i=j.html5,src:s}]=e,n="html5"===i?t:"div",o="html5"===i?{}:{src:s};Object.assign(this,{provider:i,type:t,supported:L.check(t,i,this.config.playsinline),media:_(n,o)}),this.elements.container.appendChild(this.media),w(r.autoplay)&&(this.config.autoplay=r.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),T(r.poster)||(this.poster=r.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),D.addStyleHook.call(this),this.isHTML5&&kt.insertElements.call(this,"source",e),this.config.title=r.title,gt.setup.call(this),this.isHTML5&&Object.keys(r).includes("tracks")&&kt.insertElements.call(this,"track",r.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&D.build.call(this),this.isHTML5&&this.media.load(),T(r.previewThumbnails)||(Object.assign(this.config.previewThumbnails,r.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wt(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Tt{constructor(e,t){if(r(this,"play",()=>c(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>P(this.media.play())),this.media.play()):null),r(this,"pause",()=>this.playing&&c(this.media.pause)?this.media.pause():null),r(this,"togglePlay",e=>(w(e)?e:!this.playing)?this.play():this.pause()),r(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):c(this.media.stop)&&this.media.stop()}),r(this,"restart",()=>{this.currentTime=0}),r(this,"rewind",e=>{this.currentTime-=b(e)?e:this.config.seekTime}),r(this,"forward",e=>{this.currentTime+=b(e)?e:this.config.seekTime}),r(this,"increaseVolume",e=>{const t=this.media.muted?0:this.volume;this.volume=t+(b(e)?e:0)}),r(this,"decreaseVolume",e=>{this.increaseVolume(-e)}),r(this,"airplay",()=>{L.airplay&&this.media.webkitShowPlaybackTargetPicker()}),r(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){const t=Ee(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=v(this.elements.container,this.config.classNames.hideControls,i);if(s&&h(this.config.controls)&&this.config.controls.includes("settings")&&!T(this.config.settings)&&q.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";x.call(this,this.media,e)}return!s}return!1}),r(this,"on",(e,t)=>{C.call(this,this.elements.container,e,t)}),r(this,"once",(e,t)=>{xe.call(this,this.elements.container,e,t)}),r(this,"off",(e,t)=>{Ce(this.elements.container,e,t)}),r(this,"destroy",(e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(g(this.elements.buttons.play),g(this.elements.captions),g(this.elements.controls),g(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),c(e)&&e()):(Pe.call(this),I.cancelRequests.call(this),_e(this.elements.original,this.elements.container),x.call(this,this.elements.original,"destroyed",!0),c(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(D.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&c(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}),r(this,"supports",e=>L.mime.call(this,e)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=L.touch,this.media=e,l(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||he(this.media)||h(this.media))&&(this.media=this.media[0]),this.config=m({},Ze,Tt.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new nt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",L),a(this.media)||!k(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!L.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const s=this.media.tagName.toLowerCase();let n=null,o=null;switch(s){case"div":if(n=this.media.querySelector("iframe"),k(n)){if(o=Ge(n.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?j.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?j.vimeo:null}(o.toString()),this.elements.container=this.media,this.media=n,this.elements.container.className="",o.search.length){const r=["1","true"];r.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),r.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=r.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(T(this.provider)||!Object.values(j).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=it;break;case"video":case"audio":this.type=s,this.provider=j.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=L.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new rt(this),this.storage=new We(this),this.media.plyr=this,k(this.elements.container)||(this.elements.container=_("div",{tabindex:0}),be(this.media,this.elements.container)),D.migrateStyles.call(this),D.addStyleHook.call(this),gt.setup.call(this),this.config.debug&&C.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log(`event: ${e.type}`)}),this.fullscreen=new $(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&D.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ft(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>P(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===j.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===j.youtube}get isVimeo(){return this.provider===j.vimeo}get isVideo(){return this.type===it}get isAudio(){return this.type===e}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=b(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return b(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=b(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;l(t)&&(t=Number(t)),b(t)||(t=this.storage.get("volume")),b(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!T(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;w(t)||(t=this.storage.get("muted")),w(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;b(e)&&(t=e),b(t)||(t=this.storage.get("speed")),b(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=yt(t,i,s),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!T(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(b),n=!0;if(!i.includes(s)){const e=Ne(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=w(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){kt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return ge(e)?e:this.source}set download(e){ge(e)&&(this.config.urls.download=e,q.setDownloadUrl.call(this))}set poster(e){this.isVideo?D.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=$e(De.call(this));return h(e)?e.join(":"):e}set ratio(e){this.isVideo?l(e)&&je(e)?(this.config.ratio=$e(e),M.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=w(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){O.toggle.call(this,e,!1)}set currentTrack(e){O.set.call(this,e,!1),O.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){O.setLanguage.call(this,e,!1)}get language(){return(O.getCurrentTrack.call(this)||{}).language}set pip(e){if(!L.pip)return;const t=w(e)?e:!this.pip;c(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?et:tt),c(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return L.pip?T(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===et:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wt(this))}static supported(e,t,i){return L.check(e,t,i)}static loadSprite(e,t){return Xe(e,t)}static setup(e,t={}){let i=null;return l(e)?i=Array.from(document.querySelectorAll(e)):he(e)?i=Array.from(e):h(e)&&(i=e.filter(k)),T(i)?null:i.map(e=>new Tt(e,t))}}return Tt.defaults=(lt=Ze,JSON.parse(JSON.stringify(lt))),Tt}():i.exports;window.TimeMachine=function(d){const i=!!d.debug;if(window.history&&window.history.pushState)if(d.default_ajax_receptacle_id)if(d.beforeNewPageLoad){const a=new RegExp("^"+window.location.protocol+"//"+window.location.host,"i"),p=document.getElementById(d.default_ajax_receptacle_id),m=document.querySelector("title");let c=null;return window.history.replaceState({receptacle:d.default_ajax_receptacle_id},null,null),window.history.scrollRestoration&&(window.history.scrollRestoration="manual"),window.addEventListener("popstate",function(e){u("State change detected"),r(e.state.receptacle,e.state.source,e.state.trigger)}),window.addEventListener("click",function(e){let t=e.target;for(;null!==t;){if(t.hasAttribute("href")){if("/"!==t.href.replace(a,"")[0])return;if(function(e){return e.shiftKey||e.ctrlKey||e.metaKey}(e)||function(e){return"which"in e?3===e.which:2===e.button}(e)||t.hasAttribute("data-tm-disabled"))return!1;e.preventDefault();var i=t.getAttribute("data-tm-receptacle"),s=t.getAttribute("data-tm-source"),n=t.getAttribute("data-tm-trigger-id"),i=null===i?d.default_ajax_receptacle_id:i;return void o(t.href,i,null===s?i:s,n)}t=t.parentElement}}),u("Ready"),u("------"),{pushStateChange:o};function u(e,t){i&&console&&(e="Time Machine: "+e,console[t||"log"]&&console[t||"log"](e))}function o(e,t,i,s){u('Pushing new state "'+e+'" into receptacle "'+t+'"');let n=history.state;n.scroll_pos=window.pageYOffset,window.history.replaceState(n,null,null),window.history.pushState({receptacle:t,source:i,trigger:s},null,e),r(t,i,s)}function r(s,n,e){u('Running "beforeNewPageLoad" callback'),d.beforeNewPageLoad(s,n,e,e=>{var t=window.location.href,r=s,a=n,i=e;if(t){u('Requesting new page "'+t+'"'),c=t,i=i||[];const l=new XMLHttpRequest;let e=!1;l.open("GET",t,!0),l.setRequestHeader("X-Requested-With","XMLHttpRequest");for(let e=0;e<i.length;e+=1)l.setRequestHeader(i[e][0],i[e][1]);l.addEventListener("readystatechange",()=>{if(4===l.readyState&&!e){if(200<=l.status&&l.status<300||304===l.status){if(t!==c)return void u("Skipping load, new load started after this one");{var i=l.response;var s=r;var n=a;u("Page data retrieved");const o=(new DOMParser).parseFromString(i,"text/html");let e=document.getElementById(s);null===e&&(u("Receptacle #"+s+" not found in current page, loading into default receptacle"),s=d.default_ajax_receptacle_id,e=p);let t;t=null==n?(i=o.querySelector("#"+s).firstElementChild,e.innerHTML=i.innerHTML,i):(e.innerHTML=o.querySelector("#"+n).innerHTML,e.firstElementChild);i=t.getAttribute("data-tm-title");null!==i&&!function(e){u('Setting page title to "'+(e=void 0===e?"":e)+'"'),m.innerHTML=e}(i);history.state.hasOwnProperty("scroll_pos")?window.scrollTo(0,history.state.scroll_pos):window.scrollTo(0,0);if(function(e){u("Running page scripts");var t=e.querySelectorAll("script");for(let e=0;e<t.length;e+=1)""!==t[e].type&&"text/javascript"!==t[e].type||new Function(t[e].innerHTML).call(window)}(e),d.afterNewPageLoad){u('Running "afterNewPageLoad" callback');let e=null;n=t.getAttribute("data-tm-data");if(null!==n)try{e=JSON.parse(n)}catch(e){u("Malformed JSON in page data attribute, ignoring","warn")}d.afterNewPageLoad(s,e)}u("Done"),u("------")}}else h();e=!0}},!1),setTimeout(()=>{e||(e=!0,h())},8e3),l.send(null)}})}function h(){u("Page failed to load, turning back time...","warn"),window.history.back(),u("------")}}else u("No beforeNewPageLoad callback - Time Machine disabled","warn");else u("No default ajax receptacle specified - Time Machine disabled","warn");else u("History API is unsupported - Time Machine disabled")};new TimeMachine({default_ajax_receptacle_id:"main-content",beforeNewPageLoad:function(e,t,i,s){"main-content"===e&&document.body.classList.add("loading");"project_link"===i?window.setTimeout(()=>{s()},600):"nav_overlay_link"===i?s():(document.body.classList.add("loading--fade"),window.setTimeout(()=>{s()},200))},afterNewPageLoad:function(e,t){"main-content"===e&&document.body.classList.remove("loading","loading--fade");C(t),N(),q(),y(),window.dispatchEvent(new Event("newpageload"))}});const C=e=>{null!==e&&e.logo_white?document.body.classList.add("logo-white"):document.body.classList.remove("logo-white")},N=()=>{const e=document.querySelectorAll(".nav-overlay"),t=document.querySelector('[data-nav-toggle-id="site"]');e.forEach(e=>{e.classList.contains("nav-overlay--open")&&(document.body.classList.remove("nav-open"),e.classList.remove("nav-overlay--open"),t.classList.remove("nav-toggle--open","nav-toggle--top-left","nav-toggle--bottom-left"))})},q=()=>{var e={work:"Work",about:"About Us",people:"People","join-us":"Join Us",news:"News",contact:"Contact"};const t=window.location.pathname.split("/");t.shift(),!(1===t.length&&t[0]in e)&&("work"!==t[0]||"discipline"!==t[1]&&"sector"!==t[1])?document.querySelector(".header__current-page").innerHTML="":document.querySelector(".header__current-page").innerHTML=e[t[0]]},f=(e,t,i=!1)=>{if(!(u()<=o.g.width)){const s=document.querySelector(".hover-circle"),n=s.querySelector(".hover-circle__content");s.classList.remove("hover-circle--inverted"),i&&s.classList.add("hover-circle--inverted"),n.innerHTML=t,s.classList.remove("hover-circle--hidden"),s.style.top=e.clientY-s.scrollHeight/2+"px",s.style.left=e.clientX-s.scrollWidth/2+"px"}},y=()=>{const e=document.querySelector(".hover-circle");e&&e.classList.add("hover-circle--hidden")};window.addEventListener("newpageload",()=>{{const i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in--reveal")})},{}),e=document.querySelectorAll("[data-fade-in]");return void e.forEach(e=>{let t=0;if("text"===e.dataset.fadeIn){e.removeAttribute("style"),e.innerHTML=e.innerHTML.replace(/[^><]+(?=<|$)/g,e=>'<span class="fade-in__text">'+e+"</span>"),e.querySelectorAll("li").forEach(e=>{e.classList.add("fade-in__item","fade-in__item--list-item")}),e.querySelectorAll(".fade-in__text").forEach(e=>{e.innerHTML=e.innerHTML.replace(/\S+/g,e=>'<span class="fade-in__item">'+e+"</span>")});let i=null,s=0;e.querySelectorAll(".fade-in__item").forEach(e=>{var t=e.offsetTop;i&&i!==t&&s++,i=e.offsetTop,e.style.transitionDelay=.1*s+"s"})}e.dataset.fadeInDelay&&(t=parseInt(e.dataset.fadeInDelay)),e.dataset.fadeInInstant?e.classList.add("fade-in--reveal"):setTimeout(()=>{i.observe(e)},t)})}}),window.addEventListener("newpageload",()=>{E({events:{load:e=>{if(!e.target.classList.contains("lazy")&&"IMG"===e.target.nodeName){const t=e.target.closest(".listing__item, .block-grid__item, .person ");t.classList.add("reveal")}}}})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".listing__image-container--out-of-bounds"),t=e=>{var t=e.querySelector(".listing__image--out-of-bounds").clientHeight,i=e.querySelector(".listing__image--out-of-bounds").clientWidth;t&&(e.style.height=.95*t+"px",e.style.width=i+"px")};e.forEach(e=>{t(e),window.removeEventListener("resize",()=>{t(e)}),window.addEventListener("resize",()=>{t(e)})})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".listing__item");e.forEach(e=>{const i=e.querySelector(".listing__image-container"),s=e.querySelector(".listing__overlay-title"),n=i.offsetHeight,o=s.offsetHeight,r=parseInt(window.getComputedStyle(s).getPropertyValue("left").substring(0,2)),a=e.dataset.titleColour;window.addEventListener("scroll",()=>{var e=i.getBoundingClientRect().top,t=e+n;e<0&&t>2*r+o?s.style.top=Math.abs(e)+r+"px":s.style.top=0<e?null:n-(r+o)+"px"}),i.addEventListener("mousemove",e=>{{var t=a;const i=document.querySelector(".listing__hover-dot");return i.classList.remove("listing__hover-dot--black"),i.classList.remove("listing__hover-dot--hidden"),t&&i.classList.add("listing__hover-dot--"+t),i.style.top=e.clientY-i.scrollHeight/2+"px",void(i.style.left=e.clientX-i.scrollWidth/2+"px")}}),i.addEventListener("mouseleave",()=>{{const e=document.querySelector(".listing__hover-dot");return void e.classList.add("listing__hover-dot--hidden")}})})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".listing__link");e.forEach(i=>{i.addEventListener("click",()=>{var e=i.dataset.projectId;const t=document.querySelector(".project__transition[data-project-id="+e);t.classList.add("project__transition--reveal"),t.querySelector(".project__transition-text").classList.add("project__transition-text--reveal")})})}),window.addEventListener("newpageload",()=>{const e=document.querySelector(".project__transition--reveal");e&&setTimeout(()=>{e.classList.add("project__transition--hide"),e.classList.remove("project__transition--reveal")},200)}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".content-block__video-grid-item-video"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.play()})},{threshold:0});e.forEach(e=>{t.observe(e)})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".content-block__full-autoplay-video"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.play()})},{threshold:0});e.forEach(e=>{t.observe(e)})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".content-block__full-fill-video-wrapper");e.forEach(s=>{const n=s.querySelector(".content-block__full-fill-video");if(n){const o=c();let i=scrollY;window.addEventListener("scroll",()=>{var e=s.getBoundingClientRect(),t=i>scrollY?"up":"down";"down"==t&&e.top<.5*o&&e.top>o/4&&(s.classList.add("content-block__full-fill-video-wrapper--expand"),n.currentTime=0,n.play()),"down"==t&&e.bottom<.5*o&&(s.classList.remove("content-block__full-fill-video-wrapper--expand"),n.pause()),"up"==t&&e.bottom>.5*o&&e.bottom<o&&(s.classList.add("content-block__full-fill-video-wrapper--expand"),n.currentTime=0,n.play()),"up"==t&&e.top>.5*o&&(s.classList.remove("content-block__full-fill-video-wrapper--expand"),n.pause()),i=scrollY});const e=s.querySelector(".video-timer"),t=e.querySelector(".video-timer__label"),r=e.querySelector(".video-timer__path-remaining");n.addEventListener("ended",()=>{r.setAttribute("stroke-dasharray","283 283"),r.style.transition=null;var e=s.getBoundingClientRect();window.scrollTo({top:e.bottom+document.documentElement.scrollTop,behavior:"smooth"})}),n.addEventListener("pause",()=>{r.setAttribute("stroke-dasharray","283 283"),r.style.transition=null}),n.addEventListener("timeupdate",()=>{t.innerHTML=function(e){var t=Math.floor(e/60);let i=(e%60).toFixed(0);return t+":"+(i=i<10?"0"+i:i)}(n.duration-n.currentTime)}),n.addEventListener("play",()=>{var e=n.duration;r.style.transition=`stroke-dasharray ${e}s linear`,r.setAttribute("stroke-dasharray","0 283")})}})}),window.addEventListener("newpageload",()=>{const t=document.querySelectorAll(".content-block__full-controlled-video"),s=[];for(let i=0;i<t.length;i++){const n=t[i];var e=n.classList.contains("content-block__full-controlled-video--inverted"),e=new A(n,{controls:["play-large","play","progress","current-time","mute","volume","pip","fullscreen"],volume:1,invertTime:!1,resetOnEnd:!0,tooltips:{controls:!1,seek:!1},iconUrl:"",iconPrefix:e?"plyr-inverted":"plyr"});s.push(e),window.addEventListener("scroll",()=>{var e=t[i].getBoundingClientRect();s[i].pip||(e.top>c()||e.bottom<0)&&s[i].pause()}),s[i].on("playing",()=>{s.forEach((e,t)=>{t!==i&&e.pause()})})}});{const r={},a=(document.querySelectorAll(".nav-overlay").forEach(e=>{r[e.dataset.navId]=e}),document.querySelector('[data-nav-toggle-id="site"]')),s=t=>{document.activeElement.blur();let i=null;for(const n in r)r[n].classList.contains("nav-overlay--open")&&(i=n);document.body.classList.remove("overlay-open");const e=document.querySelectorAll("[data-nav-toggle-id][aria-controls]");if(i)return document.body.classList.remove("nav-open"),r[i].classList.remove("nav-overlay--open"),r[i].setAttribute("aria-hidden",!0),a.classList.remove("nav-toggle--open","nav-toggle--top-left","nav-toggle--bottom-left"),e.forEach(e=>{e.getAttribute("aria-controls")===r[i].dataset.navId&&e.setAttribute("aria-expanded",!1)}),void setTimeout(()=>{r[i].setAttribute("tabindex",-1)},500);if(t){var s=t.dataset.navTogglePosition;document.body.classList.add("nav-open"),t.classList.add("nav-overlay--open"),t.setAttribute("aria-hidden",!1),t.setAttribute("tabindex",1),a.classList.add("nav-toggle--open","nav-toggle--"+s),e.forEach(e=>{e.getAttribute("aria-controls")===t.dataset.navId&&e.setAttribute("aria-expanded",!0)});const o=t.querySelector(".search-form__input");o&&setTimeout(()=>{o.focus()},650)}};a.addEventListener("click",()=>{s(r.site)});for(const n in r){const l=r[n].querySelector(".nav-overlay__title");l.addEventListener("click",()=>s(r[n]))}window.addEventListener("newpageload",()=>{const t={};document.querySelectorAll("[data-nav-toggle-id]").forEach(e=>{"site"!==e.dataset.navToggleId&&(t[e.dataset.navToggleId]=e)});for(const e in t)t[e].addEventListener("click",()=>s(r[e]));const i=document.querySelector(".search-form__input");i&&i.addEventListener("keyup",e=>{"Tab"===e.key&&i.classList.remove("search-form__input--no-focus-visible")}),"#search-open"===window.location.hash&&r.search&&s(r.search)}),window.addEventListener("keyup",e=>{"Escape"===e.key&&s()})}{const h=document.querySelectorAll(".nav-overlay__list");h.forEach(e=>{const t=e.querySelectorAll(".nav-overlay__list-link");t.forEach((e,t)=>{e.style.transitionDelay=.07*t+"s"})})}window.addEventListener("newpageload",()=>{const e=document.querySelector("#back-to-top");if(e){let t=!1;const i=()=>{var e;t||0<(e=document.documentElement.scrollTop||document.body.scrollTop)&&(window.requestAnimationFrame(i),window.scrollTo(0,e-e/10))};e.addEventListener("click",()=>{i()}),window.onwheel=()=>{t=!0,setTimeout(()=>{t=!1},500)}}}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".client__logo"),t=(e.forEach(e=>{e.addEventListener("mousemove",e=>{f(e,"Discover",!0)})}),e.forEach(e=>{e.addEventListener("mouseleave",()=>{y()})}),e.forEach(i=>{i.addEventListener("click",()=>{var e=i.dataset.clientId,t=i.dataset.clientForegroundColour;document.querySelector(`.client__overlay[data-client-id=${e}]`).classList.add("client__overlay--open"),document.querySelector(".nav-toggle").style.setProperty("--nav-colour",t),document.body.classList.add("overlay-open")})}),document.querySelectorAll(".client__close-overlay"));t.forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".client__overlay--open").forEach(e=>e.classList.remove("client__overlay--open")),document.querySelector(".nav-toggle").style.setProperty("--nav-colour",null),document.body.classList.remove("overlay-open")})})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll("button[data-cta-block-button-id]"),n=document.querySelectorAll(".text-overlay[data-cta-block-overlay-id]");e.length&&n.length&&e.forEach(e=>{const t=e.dataset.ctaBlockButtonId,i=Array.from(n).find(e=>e.dataset.ctaBlockOverlayId===t);if(i){e.addEventListener("click",()=>{i.classList.add("text-overlay--open"),document.body.classList.add("overlay-open")});const s=i.querySelector(".text-overlay__close");(s||i).addEventListener("click",()=>{i.classList.remove("text-overlay--open"),document.body.classList.remove("overlay-open")})}})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".person__link"),t=(e.forEach(e=>{e.addEventListener("mousemove",e=>{f(e,"See profile")})}),e.forEach(e=>{e.addEventListener("mouseleave",()=>{y()})}),e.forEach(i=>{i.addEventListener("click",()=>{var e=i.dataset.personIndex;const t=document.querySelector(`.person__overlay[data-person-index="${e}"]`);t&&(document.querySelector(".overlay-background").classList.add("overlay-background--open"),t.classList.add("person__overlay--open"),document.body.classList.add("overlay-open"),document.querySelector(".nav-toggle").style.setProperty("--nav-colour","#FFF"))})}),document.querySelectorAll(".person__close-overlay"));function i(e){e.stopImmediatePropagation(),document.querySelector(".overlay-background").classList.remove("overlay-background--open"),document.querySelectorAll(".person__overlay--open").forEach(e=>e.classList.remove("person__overlay--open")),document.body.classList.remove("overlay-open"),document.querySelector(".nav-toggle").style.setProperty("--nav-colour",null)}window.addEventListener("keyup",e=>{"Escape"===e.key&&i(e)}),t.forEach(e=>{e.addEventListener("click",i)});const s=document.querySelectorAll(".person__overlay");s.forEach(o=>{var e=parseInt(o.dataset.personIndex),t=parseInt(o.dataset.peopleTotal);const r=1===e,a=e===t,l=e-1,c=e+1,d=t;o.addEventListener("mousemove",e=>{switch(o.classList.remove("person__overlay--hover-right"),o.classList.remove("person__overlay--hover-left"),m(e.clientX)){case"left":o.classList.add("person__overlay--hover-left");break;case"right":o.classList.add("person__overlay--hover-right")}}),o.addEventListener("click",e=>{e=m(e.clientX);const t=document.querySelector(`.person__overlay[data-person-index="${l}"]`),i=document.querySelector(`.person__overlay[data-person-index="${c}"]`),s=document.querySelector('.person__overlay[data-person-index="1"]'),n=document.querySelector(`.person__overlay[data-person-index="${d}"]`);switch(e){case"left":if(r)return o.classList.remove("person__overlay--open"),n?void n.classList.add("person__overlay--open"):void document.querySelector(".overlay-background").classList.remove("overlay-background--open");if(o.classList.remove("person__overlay--open"),!t)return void document.querySelector(".overlay-background").classList.remove("overlay-background--open");t.classList.add("person__overlay--open");break;case"right":if(a)return o.classList.remove("person__overlay--open"),s?void s.classList.add("person__overlay--open"):void document.querySelector(".overlay-background").classList.remove("overlay-background--open");if(o.classList.remove("person__overlay--open"),!i)return void document.querySelector(".overlay-background").classList.remove("overlay-background--open");i.classList.add("person__overlay--open")}})})}),window.addEventListener("newpageload",()=>{const t=document.querySelector("#home-slideshow");if(!t)return;function i(){t.classList.remove("slideshow--hover-right"),t.classList.remove("slideshow--hover-left")}const e=t.querySelectorAll(".slideshow__slide"),s=document.querySelector("#home-slideshow-titlebar"),o=s.querySelectorAll(".slider__title"),r=new p(t),n=parseInt(t.dataset.slideInterval,10);let a=null;t.addEventListener("mousemove",e=>{switch(i(),m(e.clientX)){case"left":y(),t.style.cursor=null,t.classList.add("slideshow--hover-left");break;case"right":y(),t.style.cursor=null,t.classList.add("slideshow--hover-right");break;case"centre":f(e,"View project"),t.style.cursor="none"}}),t.addEventListener("mouseleave",()=>{y(),i()});const l=(e=!1)=>{const t=r.currentSlide(),i=t.querySelector("video"),s=(i&&(i.pause(),setTimeout(()=>{i.currentTime=0},600)),r.slide(e),r.currentSlide()),n=s.querySelector("video");n?(window.clearInterval(a),n.play()):(window.clearInterval(a),c()),o.forEach(e=>{parseInt(e.dataset.slideNr)===parseInt(r.currentSlide().dataset.slideNr)?e.classList.remove("slider__title--hidden"):e.classList.add("slider__title--hidden")})},c=()=>{window.clearInterval(a),a=window.setInterval(()=>{l()},n)},d=(e.forEach(s=>{s.addEventListener("click",e=>{if(!e.target.classList.contains("slideshow__slide-link")){var t=s.dataset.projectId;const i=document.querySelector(".project__transition[data-project-id="+t);switch(m(e.clientX)){case"left":window.clearInterval(a),l(!0);break;case"right":window.clearInterval(a),l();break;case"centre":if(!s.querySelector(".slideshow__slide-link"))return;i.classList.add("project__transition--reveal"),i.querySelector(".project__transition-text").classList.add("project__transition-text--reveal"),s.querySelector(".slideshow__slide-link").click()}}})}),t.querySelectorAll("video")),u=(d.forEach(e=>{e.addEventListener("ended",()=>{l()})}),r.currentSlide()),h=u.querySelector("video");h?h.play():c()}),window.addEventListener("newpageload",()=>{const t=document.querySelector("#testimonials-slider"),i=document.querySelector("#testimonials-slider-titlebar");function s(){t.classList.remove("slider--hover-right"),t.classList.remove("slider--hover-left")}if(t){const n=document.querySelectorAll(".slider__slide-outer");var e=g({delay:4e3},e=>e.parentElement);const o=x(t,{loop:!0},[e]);t.addEventListener("mousemove",e=>{switch(s(),m(e.clientX)){case"left":t.classList.add("slider--hover-left");break;case"right":t.classList.add("slider--hover-right")}}),t.addEventListener("mouseleave",()=>{s()}),o.on("scroll",()=>{const e=i.querySelectorAll(".slider__title"),t=o.slidesInView();1===t.length?e.forEach(e=>{parseInt(e.dataset.slideNr)===parseInt(t[0])?e.classList.remove("slider__title--hidden"):e.classList.add("slider__title--hidden")}):e.forEach(e=>{e.classList.add("slider__title--hidden")})}),n.forEach(e=>{e.addEventListener("click",e=>{if(o.clickAllowed())switch(m(e.clientX)){case"left":o.scrollPrev();break;case"right":o.scrollNext()}})})}}),window.addEventListener("newpageload",()=>{const e=document.querySelector("#gallery-slider");var t=e?e.querySelector(".gallery-slider__viewport"):null;if(e){const i=e.querySelectorAll(".gallery-slider__slide-img");x(t,{containScroll:"keepSnaps",dragFree:!0},[g({delay:4e3},e=>e.parentElement)]),i.forEach(e=>{e.addEventListener("mousemove",e=>{f(e,"Drag me")})}),i.forEach(e=>{e.addEventListener("mouseleave",()=>{y()})})}}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".project-full-width-slider");e.forEach(n=>{var e=n.id;const o=document.querySelector(`#${e}-titlebar`);function t(){n.classList.remove("slider--hover-right"),n.classList.remove("slider--hover-left")}const r=n.querySelectorAll(".slider__slide-outer"),i=n.querySelectorAll(".slider__slide-vid");const a=g({delay:4e3},e=>e.parentElement),l=x(n,{loop:!0,speed:15},[a]);e=L(l);l.on("init",e),l.on("scroll",e),l.on("resize",e),n.addEventListener("mousemove",e=>{switch(t(),m(e.clientX)){case"left":y(),n.style.cursor=null,n.classList.add("slider--hover-left");break;case"right":y(),n.style.cursor=null,n.classList.add("slider--hover-right");break;case"centre":y(),n.style.cursor="default"}}),n.addEventListener("mouseleave",()=>{y(),t()}),l.on("scroll",()=>{const e=o.querySelectorAll(".slider__title"),t=l.slidesInView(),i=e=>e.querySelector(".slider__slide-vid");var s;1===t.length?(s=r[t[0]],i(s)&&(i(s).play(),a.stop()),e.forEach(e=>{parseInt(e.dataset.slideNr)===parseInt(t[0])?e.classList.remove("slider__title--hidden"):e.classList.add("slider__title--hidden")})):(t.forEach(e=>{i(r[e])&&(i(r[e]).pause(),n.classList.contains("slider--interacted")||a.play())}),e.forEach(e=>{e.classList.add("slider__title--hidden")}))}),i.forEach(e=>{e.addEventListener("ended",()=>{if(!n.classList.contains("slider--interacted"))return a.play(),void l.scrollNext();e.play()})}),l.on("pointerDown",()=>{n.classList.add("slider--interacted"),a.stop()}),r.forEach(s=>{s.addEventListener("click",e=>{if(!e.target.classList.contains("slider__slide-link")){var t=s.dataset.projectId;const i=document.querySelector(".project__transition[data-project-id="+t);if(l.clickAllowed())switch(m(e.clientX)){case"left":l.scrollPrev();break;case"right":l.scrollNext();break;case"centre":if(!s.querySelector(".slider__slide-link"))return;i.classList.add("project__transition--reveal"),i.querySelector(".project__transition-text").classList.add("project__transition-text--reveal"),s.querySelector(".slider__slide-link").click()}}})})})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".project-slider");e.forEach(e=>{const t=e.querySelectorAll(".project-slider__slide"),i=e.querySelectorAll(".project-slider__slide-img"),s=u(),n=c();let o=32/s;var r;1920<s&&(r=(s-1920)/2,o=r/s);const a=x(e,{align:o,containScroll:"trimSnaps",loop:!0}),l=(i.forEach(e=>{e.addEventListener("mousemove",e=>{f(e,"Discover")})}),i.forEach(e=>{e.addEventListener("mouseleave",()=>{y()})}),t.forEach(t=>{var e=t.dataset.imageId;const i=document.querySelector(`.project-slider__detail-img-wrapper[data-image-id="${e}"]`);i&&(t.addEventListener("click",()=>{var e;a.clickAllowed()&&(e=t.getBoundingClientRect(),l(e,i,t),i.classList.add("project-slider__detail-img-wrapper--reveal"),t.classList.add("project-slider__slide--hide"),setTimeout(()=>{i.classList.add("project-slider__detail-img-wrapper--animate"),l(null,i,t)},200))}),i.addEventListener("click",()=>{var e=t.getBoundingClientRect();l(e,i,t),setTimeout(()=>{i.classList.remove("project-slider__detail-img-wrapper--animate"),t.classList.remove("project-slider__slide--hide"),setTimeout(()=>{i.classList.remove("project-slider__detail-img-wrapper--reveal")},100)},500)}))}),(e,t,i)=>{if(!e)return t.style.inset=null,void(t.style.padding="5vh 5vw");t.style.padding=0,t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.right=s-(e.left+i.offsetWidth)+"px",t.style.bottom=n-(e.top+i.offsetHeight)+"px"})})}),window.addEventListener("newpageload",()=>{const e=document.querySelectorAll(".content-block__before-after-wrapper"),s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.querySelectorAll("video.content-block__before-after-item");t.forEach(e=>{e.play()})}})},{threshold:0});e.forEach(e=>{const t=e.querySelector('input[type="range"]'),i=e.querySelector(".content-block__before-after-item--after");i&&t&&(t.value="200",t.addEventListener("input",e=>{var e=e.target.value/4,t=50<e?`calc( ${e}% - 1px )`:e+"%";i.style.width=t,i.style.border=100==e||0==e?0:null}),e.classList.contains("content-block__before-after-wrapper--video")&&s.observe(e))})});{const v=document.querySelector("#newsletter-form--start"),b=document.querySelector("#newsletter-form"),w=document.querySelector("#newsletter-form--success"),k=b.querySelector(".contact-form__input"),T=b.querySelector(".contact-form__submit");v.addEventListener("click",()=>{b.classList.remove("contact-form--hidden"),v.style.maxHeight=null,v.classList.add("contact-form__start--hidden"),k.focus()}),k.addEventListener("input",e=>{/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e.currentTarget.value)?T.classList.remove("contact-form__submit--hidden"):T.classList.add("contact-form__submit--hidden")}),b.addEventListener("submit",()=>{b.classList.add("contact-form--hidden"),w.classList.remove("contact-form__success--hidden"),setTimeout(()=>{w.classList.add("contact-form__success--hidden"),v.classList.remove("contact-form__start--hidden")},2e3)})}return window.dispatchEvent(new Event("newpageload",{init:!0})),e.CookieConsentManager=class{constructor(e,t,i,s=!1){if(this.categories=e,this.providers=t,this.provider_hash=i,window.addEventListener("click",e=>{if("cookieManagerAcceptAll"in e.target.dataset)return e.preventDefault(),this.savePreferences(Object.keys(this.providers)),this.closeCookieManagerUi(),this.closeCookieBannerUi(),this.applySavedPreferences(),this.setInputsFromPreferences(),void this.hideButtons();if("cookieManagerDenyAll"in e.target.dataset)return e.preventDefault(),this.savePreferences([]),this.closeCookieManagerUi(),this.closeCookieBannerUi(),this.applySavedPreferences(),this.setInputsFromPreferences(),void this.hideButtons();if("cookieManagerAcceptAllCategory"in e.target.dataset)return e.preventDefault(),t=(this.getSavedPreferences()||[]).concat(this.getProviderKeysInCategory(e.target.dataset.cookieManagerAcceptAllCategory)).filter((e,t,i)=>i.indexOf(e)===t),this.savePreferences(t),this.applySavedPreferences(),this.setInputsFromPreferences(),void this.hideButtons();if("cookieManagerDenyAllCategory"in e.target.dataset){e.preventDefault();const i=this.getProviderKeysInCategory(e.target.dataset.cookieManagerDenyAllCategory);var t=(this.getSavedPreferences()||[]).filter(e=>-1===i.indexOf(e));return this.savePreferences(t),this.applySavedPreferences(),this.setInputsFromPreferences(),void this.hideButtons()}return"cookieManagerAcceptProvider"in e.target.dataset?(e.preventDefault(),t=(this.getSavedPreferences()||[]).concat([e.target.dataset.cookieManagerAcceptProvider]).filter((e,t,i)=>i.indexOf(e)===t),this.savePreferences(t),this.applySavedPreferences(),this.setInputsFromPreferences(),void this.hideButtons()):"cookieManagerSaveChanges"in e.target.dataset?(e.preventDefault(),this.savePreferences(this.getPreferencesFromInputs()),this.closeCookieManagerUi(),this.applySavedPreferences(),void this.hideButtons()):void("cookieManagerOpenUi"in e.target.dataset&&(e.preventDefault(),this.openCookieManagerUi()))}),window.addEventListener("change",e=>{("cookieManagerCategoryPreference"in e.target.dataset||"cookieManagerProviderPreference"in e.target.dataset)&&(this.showButtons(),this.forceSaveChanges())}),null===this.getSavedPreferences())return this.showButtons(),void(s?this.openCookieBannerUi():this.openCookieManagerUi());this.applySavedPreferences(),this.setInputsFromPreferences()}savePreferences(t){const e=new Date,i=(e.setTime(e.getTime()+7776e6),[]);for(let e=0;e<t.length;e++)!Object.prototype.hasOwnProperty.call(this.providers,t[e])||this.getProviderIsMandatory(t[e])||i.push(t[e]);this.setCookie("ten4_cookie_consent",this.provider_hash+"|"+i.join(","),e)}getSavedPreferences(){const e=this.getCookie("ten4_cookie_consent");if(""===e)return null;{const[t,i]=e.split("|");return t===this.provider_hash?""===i?[]:i.split(","):null}}getPreferencesFromInputs(){let t=[];var i=document.querySelectorAll("[data-cookie-manager-category-preference]");for(let e=0;e<i.length;e++)i[e].checked&&(t=t.concat(this.getProviderKeysInCategory(i[e].dataset.cookieManagerCategoryPreference)));var s=document.querySelectorAll("[data-cookie-manager-provider-preference]");for(let e=0;e<s.length;e++)s[e].checked&&t.push(s[e].dataset.cookieManagerProviderPreference);return t.filter((e,t,i)=>i.indexOf(e)===t)}setInputsFromPreferences(){const t=this.getSavedPreferences(),i=document.querySelectorAll("[data-cookie-manager-provider-preference]");let s=!1;for(let e=0;e<i.length;e++)-1===t.indexOf(i[e].dataset.cookieManagerProviderPreference)?i[e].checked=!1:(i[e].checked=!0,s=!0);s&&this.forceSaveChanges()}applySavedPreferences(){const e=this.getSavedPreferences();if(null!==e){const t={},i={};for(const s in this.providers)-1===e.indexOf(s)?i[s]=this.providers[s]:t[s]=this.providers[s];this.removeProviderCookies(i),this.injectProviderHtml(t),this.renderProviderWrappers(t)}}getProviderIsMandatory(e){var t=this.providers[e].categories;for(let e=0;e<t.length;e++)if(!this.categories[t[e]].mandatory)return!1;return!0}getProviderKeysInCategory(e){const t=[];for(const i in this.providers)-1!==this.providers[i].categories.indexOf(e)&&t.push(i);return t}openCookieManagerUi(){this.closeCookieBannerUi(),document.body.classList.add("cookie-manager-open")}closeCookieManagerUi(){document.body.classList.remove("cookie-manager-open")}openCookieBannerUi(){document.body.classList.add("cookie-banner-open")}closeCookieBannerUi(){document.body.classList.remove("cookie-banner-open")}showButtons(){document.body.classList.add("cookie-manager-buttons-visible")}hideButtons(){document.body.classList.remove("cookie-manager-buttons-visible")}forceSaveChanges(){document.body.classList.add("cookie-manager-save-changes")}removeProviderCookies(e){for(const t in e)for(const i in e[t].cookies_dropped)"ten4_cookie_consent"!==i&&0<this.getCookie(i).length&&this.deleteCookie(i)}injectProviderHtml(e){const t={head_end:"",body_end:""};for(const s in e)if(void 0!==e[s].html){var i=e[s].html_injection_point||"body_end";if(!Object.prototype.hasOwnProperty.call(t,i))throw new Error("Invalid HTML injection point.");t[i]+=e[s].html}0<t.head_end.length&&this.insertHTML(document.head,t.head_end),0<t.body_end.length&&this.insertHTML(document.body,t.body_end)}renderProviderWrappers(t){const i=document.querySelectorAll(".cookie-consent-wrapper");for(let e=0;e<i.length;e++){var s=i[e].getAttribute("data-provider-key");Object.prototype.hasOwnProperty.call(t,s)&&((s=i[e].querySelector(".cookie-consent-wrapper__unblocked"))&&(s=s.textContent,this.insertHTML(i[e],s,!0),i[e].classList.add("cookie-consent-wrapper--unblocked")))}}insertHTML(e,t,i=!1){const s=document.createRange();s.selectNode(e);t=s.createContextualFragment(t);i&&(e.innerHTML=""),e.appendChild(t)}getCookie(e){const t="; "+document.cookie,i=t.split("; "+e+"=");return 2===i.length?i.pop().split(";").shift():""}setCookie(e,t,i){document.cookie=e+"="+t+";path=/;expires="+i.toGMTString()+";SameSite=Lax;Secure"}deleteCookie(e){const t=window.location.hostname.split(".");for(;1<t.length;)document.cookie=e+"=;path=/;domain="+t.join(".")+";expires=Thu, 01 Jan 1970 00:00:01 GMT",t.shift()}},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
